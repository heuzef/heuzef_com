<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Heuze Florent</title><link href="https://heuzef.com/" rel="alternate"></link><link href="https://heuzef.com/feeds/all.atom.xml" rel="self"></link><id>https://heuzef.com/</id><updated>2024-11-05T00:00:00+01:00</updated><subtitle>
Les notes excentriques d'un bidouilleur.
</subtitle><entry><title>Realiser une œuvre d’art avec des techniques modernes</title><link href="https://heuzef.com/notes/realiser-une-oeuvre-dart-avec-des-techniques-modernes/" rel="alternate"></link><published>2024-11-05T00:00:00+01:00</published><updated>2024-11-05T00:00:00+01:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2024-11-05:/notes/realiser-une-oeuvre-dart-avec-des-techniques-modernes/</id><summary type="html">&lt;p&gt;Du pixel à la matière, je vous dévoile les différentes étapes m’ayant permis de réaliser une œuvre hybride né de l’&lt;span class="caps"&gt;IA&lt;/span&gt;, de la &lt;span class="caps"&gt;PAO&lt;/span&gt; et de la 3D. Ce projet met en évidence la synergie entre les outils numériques, l’intelligence artificielle et les savoir-faire artisanaux pour donner …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Du pixel à la matière, je vous dévoile les différentes étapes m’ayant permis de réaliser une œuvre hybride né de l’&lt;span class="caps"&gt;IA&lt;/span&gt;, de la &lt;span class="caps"&gt;PAO&lt;/span&gt; et de la 3D. Ce projet met en évidence la synergie entre les outils numériques, l’intelligence artificielle et les savoir-faire artisanaux pour donner naissance à une œuvre unique : &lt;strong&gt;un portrait en l’honneur de Nikola Tesla&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_001" class="img-fluid" src="../../assets/tesla_001.jpg"/&gt; &lt;/p&gt;
&lt;h1&gt;Partie 1 : La genèse numérique&lt;/h1&gt;
&lt;p&gt;Nikola Tesla, c’est un peu le boss final des inventeurs. Archétype du savant fou, ce dernier a profondément changé l’avenir de l’humanité.&lt;/p&gt;
&lt;p&gt;Résumer un tel personnage n’est pas simple, mais s’il est facile de se renseigner sur lui, c’est cependant plus délicat de trouver des photos de bonne qualité du monsieur. Voici la plus célèbre et sûrement de meilleure qualité :&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_002" class="img-fluid" src="../../assets/tesla_002.jpg"/&gt; &lt;/p&gt;
&lt;p&gt;En contemplant cette photo, mon inspiration pour l’œuvre est née grâce aux nombreuses citations célèbres de Tesla. En voici quelques unes :  &lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Si vous voulez trouver les secrets de l’univers, pensez en termes d’énergie, de fréquence et de vibration.&lt;/p&gt;
&lt;p&gt;Je ne me soucie pas qu’ils aient volé mon idée… Je m’inquiète du fait qu’ils n’en aient pas eux-mêmes.&lt;/p&gt;
&lt;p&gt;Le présent est à eux ; le futur, pour lequel j’ai réellement travaillé, est mien.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ainsi, à ce stade, j’ai fixé l’objectif de réaliser un portait de la photo en 3D, pour ajouter une profondeur dans son regard, afin de donner l’illusion qu’il nous suit du regard, mais également faire ressortir en lettre d’or les mots les plus “forts” de l’inventeur (littéralement).  &lt;/p&gt;
&lt;p&gt;Pour réussir à sélectionner les mots justes, j’ai donc commencé par collecter une centaine de citations trouvé sur le site &lt;a href="https://quotefancy.com/nikola-tesla-quotes"&gt;quotefancy.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;J’ai donc codé la stratégie de webscraping en Python suivante :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Import des librairies nécessaires au projet&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bs4&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;

&lt;span class="c1"&gt;# Fixer les pages contenant les 100 citations&lt;/span&gt;
&lt;span class="n"&gt;page1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"https://quotefancy.com/nikola-tesla-quotes/page/1"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;page2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"https://quotefancy.com/nikola-tesla-quotes/page/2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;page3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"https://quotefancy.com/nikola-tesla-quotes/page/3"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Extraire les citations&lt;/span&gt;
&lt;span class="n"&gt;soup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"lxml"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;quotes_p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"p"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"quote-p"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;quotes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;quote&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quotes_p&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;quote_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quote&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;quote_a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;quotes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Même logique, avec les 2 pages suivantes, pour alimenter notre array :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;soup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"lxml"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;quotes_p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"p"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"quote-p"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;quote&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quotes_p&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;quote_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quote&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;quote_a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;quotes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;soup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"lxml"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;quotes_p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"p"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"quote-p"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;quote&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quotes_p&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;quote_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quote&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;quote_a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;quotes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous obtenons ainsi, 113  citations, cela me permet ainsi de les récolter dans un fichier tableur au format &lt;span class="caps"&gt;CSV&lt;/span&gt;, exploitable pour la suite.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_003" class="img-fluid" src="../../assets/tesla_003.png"/&gt; &lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="caps"&gt;NB&lt;/span&gt; : les citations sont en anglais, bien que Tesla parlait couramment huit 
langues, il adopta naturellement l’anglais comme langue principale pour 
la communauté scientifique.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;J’ai ensuite exploité, toujours en Python, la librairie &lt;span class="caps"&gt;NLTK&lt;/span&gt; pour faire du text mining et afficher un nuage de mot avec Wordcloud.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Import des librairies nécessaires au projet&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.tokenize&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;TweetTokenizer&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;stopwords&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;wordcloud&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ImageColorGenerator&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;WordCloud&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.image&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;mpimg&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PIL&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Chargement des citations dans un dataframe&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tesla_quotes.csv"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index_col&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Créer une chaîne de caractères contenant la concaténation de toutes les citations&lt;/span&gt;
&lt;span class="n"&gt;paroles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;' '&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Quotes'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tolist&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="c1"&gt;# Attention à insérer une espace entre chaque ligne.&lt;/span&gt;

&lt;span class="c1"&gt;# Creation des tokens&lt;/span&gt;
&lt;span class="n"&gt;tokenizer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TweetTokenizer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;tokens&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tokenize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;paroles&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je dispose mainenant de 2818 mots, il faut les nettoyers, en supprimant les stop words.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Création des stop words, afin de nettoyer nos citations&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'stopwords'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;stop_words&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stopwords&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'english'&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;stop_words&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s2"&gt;"?"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"!"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"."&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;","&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;":"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;";"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"-"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"--"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"..."&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\"&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"'"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"’"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;tokens_without_sw&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mot&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;mot&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tokens&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;mot&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;stop_words&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt="tesla_004" class="img-fluid" src="../../assets/tesla_004.png"/&gt; &lt;/p&gt;
&lt;p&gt;J’ai au final 1374 mots non-unique, quantifiés dans un dictionnaire. Ceci est directement exploitable avec WordCloud.&lt;/p&gt;
&lt;p&gt;Je réalise un masque de la silhouette de Nikola Tesla.  Cela me permet d’obtenir alors une sortie de nuage de mot déjà positionné sur la silhouette.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tesla_max.jpg"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mpimg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tesla_max.jpg"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;J’instancie le nuage de mot.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;words&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;" "&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokens_without_sw&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;wc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;WordCloud&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;background_color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"white"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_words&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stopwords&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;stop_words&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_font_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_font_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;collocations&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Générer et afficher le nuage de mots&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;wc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt="tesla_005" class="img-fluid" src="../../assets/tesla_005.png"/&gt;&lt;/p&gt;
&lt;p&gt;À ce stade, il ne me reste plus qu’à affiner les réglages de taille et quantité de mots, je peux alors générer autant de nuages de mots aléatoirement que je souhaite. Cela me permet d’en sélectionner un qui me plaît, avec des mots très forts de sens. Plus ils sont gros, plus ils sont statistiquement nombreux dans l’ensemble des citations et donc, plus &lt;strong&gt;“importants”&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;wc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;recolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;color_func&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ImageColorGenerator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"bilinear"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"off"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'output.png'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt="tesla_006" class="img-fluid" src="../../assets/tesla_006.png"/&gt;&lt;/p&gt;
&lt;h1&gt;Étape 2 : Vers la dimension&lt;/h1&gt;
&lt;p&gt;Maintenant, nous allons devoir vectoriser la photo pour une meilleure précision et 
scalabilité, cette étape est entièrement réalisé avec Inkscape, pour travailler en &lt;span class="caps"&gt;SVG&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_007" class="img-fluid" src="../../assets/tesla_007.png"/&gt;&lt;/p&gt;
&lt;p&gt;Il est important de noter que j’ai volontairement fixé le nombre de couleur à cinq. Ce choix sera expliqué dans l’étape suivante.&lt;/p&gt;
&lt;p&gt;Je profite également de cette étape pour concevoir le cadre avec des éclairs (la maîtrise de l’électricité étant un détail très important de la vie de Nikola Tesla).&lt;/p&gt;
&lt;p&gt;Je place tout en haut la signature officielle de Nikola Tesla en guise de nom (&lt;a href="https://commons.wikimedia.org/wiki/File:TeslaSignature.svg"&gt;le format &lt;span class="caps"&gt;SVG&lt;/span&gt; de cette dernière est disponible sur Wikipédia&lt;/a&gt; puis tout en 
bas, ma citation favorite.&lt;/p&gt;
&lt;p&gt;Enfin, je rajoute le nuage de mots par dessus, j’adapte ce dernier pour un meilleur rendu.&lt;/p&gt;
&lt;p&gt;À ce stade, la conception 2D de l’œuvre est terminée, il est temps d’ajouter une nouvelle dimension.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_008" class="img-fluid" src="../../assets/tesla_008.png"/&gt;&lt;/p&gt;
&lt;p&gt;Nous basculons à présent sur l’outil Autodesk Fusion 360. Le &lt;span class="caps"&gt;SVG&lt;/span&gt; conçu précédemment peut être importé directement afin de le reproduire à l’identique avec des matériaux pour la couleur.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_009" class="img-fluid" src="../../assets/tesla_009.gif"/&gt;&lt;/p&gt;
&lt;p&gt;Chaque polygone est alors retravaillé ici pour définir sa distance sur l’axe Z, les textes sont les éléments les plus hauts sur cet axe, soit 10 mm. Le cadre en fond, lui, est de 4 mm.&lt;/p&gt;
&lt;p&gt;Hélas, nous sommes dépendant de la méthode d’import du &lt;span class="caps"&gt;SVG&lt;/span&gt; de Fusion 360, ce qui  rend l’étape de conversion 2D vers la 3D très fastidieuse, mais avec de la persevérence, nous pouvons parvenir à nos fins.&lt;/p&gt;
&lt;video controls="" height="500" id="tesla_010" preload="auto" width="900"&gt;
&lt;source src="../../assets/tesla_010.mp4" type="video/mp4"/&gt;
&lt;/video&gt;
&lt;h1&gt;Étape 3 : De l’écran à la réalité&lt;/h1&gt;
&lt;p&gt;Le projet entièrement modélisé en 3D, il est temps de passer à la fabrication. Pour ceci, j’utilise une machine de pointe, la Prusa &lt;span class="caps"&gt;MK4&lt;/span&gt; équipée du module &lt;span class="caps"&gt;MMU3&lt;/span&gt; me permettant une impression avec 5 couleurs en simultanée. &lt;/p&gt;
&lt;p&gt;J’utilise donc des bobines de &lt;span class="caps"&gt;PLA&lt;/span&gt; avec les couleurs suivantes : blanche, noire, bleue, or (pour le texte) et ivoire (pour la peau).&lt;/p&gt;
&lt;p&gt;L’export du fichier 3D depuis Fusion 360 s’effectue au format &lt;strong&gt;&lt;span class="caps"&gt;3MF&lt;/span&gt;&lt;/strong&gt;, qui permet de travailler la découpe et le multicouleur, j’utilise pour ça Prusa Sclicer, bien entendu, ce dernier est configuré avec le profil de mon imprimante 3D et de ses 5 bobines.&lt;/p&gt;
&lt;p&gt;Nous pouvons donc effectuer toute la colorisation, de nouveau, via l’outil peinture multi-matériaux du logiciel. Puis finalement, effectuer la configuration des paramètres d’impression, tel que la hauteur de couche, la vitesse, les supports, etc …&lt;/p&gt;
&lt;video controls="" height="500" id="tesla_011" preload="auto" width="900"&gt;
&lt;source src="../../assets/tesla_011.mp4" type="video/mp4"/&gt;
&lt;/video&gt;
&lt;p&gt;Un point délicat à gérer, dû à l’utilisateur du multi-couleur, c’est la tour de purge, nécessaire pour nettoyer la couleur dans la buse entre chaque changement de couleur pour éviter un mélange des pigments. Hélas, cette dernière prend de la place, je parviens cependant à m’en sortir en modifiant les paramètres de cette dernière pour que celle-ci soit la plus longue et fine possible sur le côté du plateau. Je suis contraint néanmoins de réduire l’échelle de la pièce à 96 % de sa taille d’origine.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_012" class="img-fluid" src="../../assets/tesla_012.png"/&gt;&lt;/p&gt;
&lt;p&gt;J’estime avoir fait au maximum des capacités de mon matériel. Même s’il est théoriquement possible de fabriquer en plusieurs parties, je tiens à éviter cela, pour éviter de créer des jointures visibles très inélégantes.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_013" class="img-fluid" src="../../assets/tesla_013.png"/&gt;&lt;/p&gt;
&lt;p&gt;Ces étapes de découpe sont souvent effectuée au ressenti et selon l’expérience que nous avons en matière d’impression 3D, l’echec est toujours envisageable. Ce qui coûte malhereusement de la ressource. Il faut alors doser le risque, le coût de l’echec et le temps. Dans mon cas, je mise donc sur une impression la plus fine et la plus lente possible et un risque de décrochage minimum en sécurisant autant que possible. Cette stratégie est couteuse en temps et en ressources, mais diminue énormément le taux d’echec.&lt;/p&gt;
&lt;p&gt;&lt;img alt="tesla_014" class="img-fluid" src="../../assets/tesla_014.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;Une fois l’impression terminée avec succès, nous pouvons finaliser le projet avec du post-traitement, afin de nettoyer et réaliser des finitions, j’utilise pour ceci quelques produits (&lt;span class="caps"&gt;IPA&lt;/span&gt; et Cyanoacrylate), un pistolet thermique et un scalpel.&lt;/p&gt;
&lt;p&gt;Voici les détails techniques calculés :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Poids : 330g&lt;/li&gt;
&lt;li&gt;Taille : 230mm x 200mm X 10mm&lt;/li&gt;
&lt;li&gt;Temps de réalisation :  50 heures&lt;/li&gt;
&lt;li&gt;Temps d’impression : 16 heures&lt;/li&gt;
&lt;li&gt;Fabriqué en un seul exemplaire unique au monde&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Je rajouterais probablement une plaque de verre utlérieument si j’ai l’occasion de m’en procurer une, pour proteger le tout. En attendant, voici une vidéo du résultat final !&lt;/p&gt;
&lt;video controls="" height="500" id="tesla_art" preload="auto" width="900"&gt;
&lt;source src="../../assets/tesla_art.mp4" type="video/mp4"/&gt;
&lt;/video&gt;</content><category term="Art"></category><category term="art"></category><category term="ia"></category><category term="python"></category><category term="photo"></category><category term="pao"></category><category term="3D"></category></entry><entry><title>Diffuser élégamment durant vos visio-conférences</title><link href="https://heuzef.com/notes/diffuser-elegamment-durant-vos-visio-conferences/" rel="alternate"></link><published>2024-05-05T00:00:00+02:00</published><updated>2024-05-05T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2024-05-05:/notes/diffuser-elegamment-durant-vos-visio-conferences/</id><summary type="html">&lt;p&gt;La visio est pour beaucoup de monde aujourd’hui un acte quotidien, que vous soyez un professionnel de la tech ou non.&lt;/p&gt;
&lt;p&gt;Si vous faites partie de ces gens qui visiote, qui teams, qui zoom, qui meets et autre termes à la mode pour ne simplement pas dire participer à …&lt;/p&gt;</summary><content type="html">&lt;p&gt;La visio est pour beaucoup de monde aujourd’hui un acte quotidien, que vous soyez un professionnel de la tech ou non.&lt;/p&gt;
&lt;p&gt;Si vous faites partie de ces gens qui visiote, qui teams, qui zoom, qui meets et autre termes à la mode pour ne simplement pas dire participer à une vidéo-conférence, je vous recommande de vous intéresser à l’utilisation d’un outil aussi simple qu’efficace, j’ai nommé &lt;a href="https://obsproject.com/fr/"&gt;&lt;span class="caps"&gt;OBS&lt;/span&gt; Studio&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="obs_studio" class="img-fluid" src="../../assets/obs-overlay.webp"/&gt;&lt;/p&gt;
&lt;h1&gt;Qu’est-ce que &lt;span class="caps"&gt;OBS&lt;/span&gt; Studio et pourquoi c’est utile ? 🎥&lt;/h1&gt;
&lt;p&gt;&lt;span class="caps"&gt;OBS&lt;/span&gt; Studio est un outil très utilisé par les vidéastes, en particulier sur Twitch ou Youtube dans le domaine du Jeux-Vidéo (Let’s play).&lt;/p&gt;
&lt;p&gt;Ce dernier vous permet d’avoir un contrôle complet de ce que vous diffusez avec votre webcam, plus que simplement votre tête avec un filtre automatique en tout cas.&lt;/p&gt;
&lt;p&gt;Il est très intéressant pour les raisons suivantes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Il permet de créer une “webcam virtuelle” personnalisable à souhait&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est facile à prendre en main&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est gratuit&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est libre&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est open source&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est multi-&lt;span class="caps"&gt;OS&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Difficile d’en demander plus ! Dédiez votre prochain dimanche pluvieux pour découvrir tranquillement ce logiciel, croyez-moi vous aller vous amuser et cela sera très utile pour vous pour la suite.&lt;/p&gt;
&lt;p&gt;Dans cet article, je ne vais pas faire un tuto, car pour ça, je vous invite à chercher sur Youtube, les vidéos très complètes des dernières versions ne manques pas, ici le but est seulement de vous convaincre de franchir le pas.&lt;/p&gt;
&lt;h1&gt;Le fonctionnement (dans les grandes lignes) ⚙️&lt;/h1&gt;
&lt;p&gt;&lt;img alt="obs_studio" class="img-fluid" src="../../assets/obsstudio.png"/&gt;&lt;/p&gt;
&lt;p&gt;Au lancement, &lt;span class="caps"&gt;OBS&lt;/span&gt; Studio vous affichera une interface de gestion qui comprend 3 grandes catégories.&lt;/p&gt;
&lt;h2&gt;Les contrôles&lt;/h2&gt;
&lt;p&gt;La zone de contrôle vous permet de lancer un enregistrement, démarrer votre caméra virtuelle pour l’exploiter via un autre logiciel (de visio par exemple 😉) ou encore de démarrer une diffusion (si vous connectez un service tiers tel que Youtube, Twitch, …).&lt;/p&gt;
&lt;h2&gt;Les scènes&lt;/h2&gt;
&lt;p&gt;C’est une fonction très pratique de &lt;span class="caps"&gt;OBS&lt;/span&gt; Studio qui vous permet de créer plusieurs “environnements” de diffusion selon la situation.&lt;/p&gt;
&lt;p&gt;Votre scène par défaut peut simplement afficher votre tête, mais vous pourriez créer une scène dédiée à votre partage d’écran par exemple. La bascule entre les scènes se fait un clic.&lt;/p&gt;
&lt;p&gt;Dans mon cas pratique, j’ai créé une scène “attente” qui affiche une vidéo Youtube lorsque je dois m’absenter durant la visio, une autre qui affiche ma tête en plus de mon partage d’écran. Une autre encore qui me permet de partager 4 fenêtres en même temps ou même 4 webcams à la fois … Pas de limite de scène, c’est selon votre imagination.&lt;/p&gt;
&lt;h2&gt;Les sources&lt;/h2&gt;
&lt;p&gt;Les sources sont simplement les entités que vous souhaitez ajouter dans votre diffusion :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Webcams&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Images&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vidéo&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Texte&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Logiciel&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Audio (micro, lecteur musique, …)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vous importez tous les éléments que vous souhaitez dans votre scène pour les placer dans l’interface.&lt;/p&gt;
&lt;p&gt;C’est très intuitif et vous n’aurez aucun mal à créer une diffusion super cool qui vous ressemble.&lt;/p&gt;
&lt;p&gt;Voilà, si vous avez compris ça, vous avez compris le plus important. Il est possible d’aller plus loin, en modifiant les sources dynamiquement avec des effets (correction de couleurs, redimensionnement, etc …).&lt;/p&gt;
&lt;p&gt;Et pour les plus nerds, il est même possible d’aller jusqu’à contrôler &lt;span class="caps"&gt;OBS&lt;/span&gt; via de la Computer Vision 🤖.&lt;/p&gt;
&lt;h1&gt;Essayez ! 👌&lt;/h1&gt;
&lt;p&gt;J’espère que cette présentation vous donnera envie de personnaliser votre diffusion pour vous rendre un peu plus coquet dans vos réunions 🌸&lt;/p&gt;
&lt;p&gt;Sans aller jusqu’à mettre en place des Overlays impressionnants comme les vidéastes pro, il y a une dimension vraiment utile pour maîtriser ce que vous diffusez lors d’une visio.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/results?search_query=OBS+Studio+fr"&gt;Amusez-vous bien !&lt;/a&gt;&lt;/p&gt;</content><category term="Informatique"></category><category term="web"></category><category term="social"></category><category term="twitch"></category><category term="youtube"></category><category term="facebook"></category><category term="live"></category><category term="visio"></category><category term="webcam"></category></entry><entry><title>Mettre en service sa propre instance de Matrix avec Bridges</title><link href="https://heuzef.com/notes/mettre-en-service-sa-propre-instance-de-matrix-avec-bridges/" rel="alternate"></link><published>2024-04-08T00:00:00+02:00</published><updated>2024-04-08T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2024-04-08:/notes/mettre-en-service-sa-propre-instance-de-matrix-avec-bridges/</id><summary type="html">&lt;p&gt;Pour ceux qui ne connaissent pas Matrix, je le présente succinctement ainsi : c’est un outil messagerie moderne, qui est supérieure techniquement à toutes les autres solutions équivalentes (Instagram, WhatsApp, Messenger, Signal, WeChat, Telegram, Discord, etc …). &lt;/p&gt;
&lt;p&gt;Mais ce n’est pas tout, en plus d’être très sécurisé, c’est …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Pour ceux qui ne connaissent pas Matrix, je le présente succinctement ainsi : c’est un outil messagerie moderne, qui est supérieure techniquement à toutes les autres solutions équivalentes (Instagram, WhatsApp, Messenger, Signal, WeChat, Telegram, Discord, etc …). &lt;/p&gt;
&lt;p&gt;Mais ce n’est pas tout, en plus d’être très sécurisé, c’est aussi une solution libre, éthique et décentralisée et en constante évolution grâce à une large communauté très impliquée dans cette solution de messagerie ultime en auto-hébergement.&lt;/p&gt;
&lt;p&gt;Il n’y a donc absolument aucun argument en faveur des autres plateformes (même pour Signal et RocketChat oui oui) et dans un monde idéal l’humanité entière utiliserais Matrix comme solution unique de communication.&lt;/p&gt;
&lt;p&gt;J’ajoute que tout bon dirigeant d’entreprise qui utilise une solution de tchat en interne devrait déployer Matrix pour sa société, tout autre choix sera finalement moins pertinent, voir dangereux. Le monopôle de Microsoft avec Teams n’est d’ailleurs pas un frein, car il est tout à fait possible d’intégrer des solutions de Visio comme &lt;a href="https://meet.jit.si"&gt;Jitsi&lt;/a&gt; dans l’instance Matrix. Et une fois que nous avons goûté à l’outil, nous sommes rapidement convaincus.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Messenger FR" class="img-fluid" src="../../assets/messenger_fr.png"/&gt;&lt;/p&gt;
&lt;p&gt;Maintenant que les présentations sont faites, je vais expliquer dans cette note comment déployer simplement une instance avec Docker et surtout avec des Bridges.&lt;/p&gt;
&lt;p&gt;Je précise que cette note est co-rédigée avec &lt;a href="https://www.linkedin.com/in/lucasassier"&gt;Lucas Assier&lt;/a&gt;, qui à également une expérience intéréssente avec Matrix de son côté !&lt;/p&gt;
&lt;p&gt;Avant de débuter l’aventure, &lt;a href="https://app.element.io/#/register"&gt;commencez par créer un compte Matrix&lt;/a&gt;. Réserver votre identifiant et profitez-en pour tester Matrix sur les serveurs d’Élement.&lt;/p&gt;
&lt;h1&gt;Qui utilise Matrix en 2024 ? 🗣&lt;/h1&gt;
&lt;p&gt;Quasiment personne, comme beaucoup d’outils libre, pas de gros marketing derrière. Même &lt;a href="https://www.signal.org"&gt;Signal&lt;/a&gt;, qui met pourtant les moyens, peine à concurrencer ses concurrents qui sont pourtant pas terribles, alors autant dire que Matrix n’est pas prêt de percer, mais patience, car contrairement aux autres, Matrix est pérenne dans le temps et sera là encore bien après eux (l’e-mail, xmpp et irc en témoignent).&lt;/p&gt;
&lt;p&gt;Finalement, les seuls qui ont un intérêt à déployer Matrix, sont les entreprises, associations et organisations qui souhaitent disposer d’un outil de communication en interne. Pour les autres, on y retrouvera majoritairement des Geek qui ont la chance d’avoir les ressources et le temps pour maintenir cet outil.&lt;/p&gt;
&lt;h1&gt;Les Bridges ! 🏗&lt;/h1&gt;
&lt;p&gt;En plus de pouvoir &lt;a href="https://matrix.org/ecosystem/clients/"&gt;choisir n’importe quel client&lt;/a&gt; (ce qui est déjà génial), Matrix a une fonction vraiment top : &lt;strong&gt;Les bridges&lt;/strong&gt; !&lt;/p&gt;
&lt;p&gt;Elle vous promet de récupérer vos messages des autres plateformes dans votre instance Matrix !&lt;/p&gt;
&lt;p&gt;&lt;a href="https://matrix.org/ecosystem/bridges"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt; matrix.org/ecosystem/bridges&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Il faut comprendre que les Bridges sont additionnels et heureusement, car il y a baleine sous gravillon, explication dans le chapitre suivant.&lt;/p&gt;
&lt;h1&gt;Le piège des Bridges 🚧&lt;/h1&gt;
&lt;p&gt;Après plusieurs mois d’utilisation des Bridges, je vais être honnête, c’est un calvaire et la maintenance est chronophage au possible. Les Bridges sont essentiellement des prototypes et plus nous en ajoutons plus c’est le chaos : la maintenance n’en devient que plus lourde.&lt;/p&gt;
&lt;p&gt;Chaque Bridge à son lot de galère, c’est sans fin, &lt;strong&gt;il faut donc être déterminé à y consacrer beaucoup de temps !&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Autrement, la meilleure alternative que je connaisse est &lt;a href="https://ems.element.io/element-one"&gt;Element-&lt;span class="caps"&gt;ONE&lt;/span&gt;&lt;/a&gt;, payant et avec seulement trois Bridges, mais c’est un début 😉&lt;/p&gt;
&lt;h1&gt;Déploiement basique avec Docker 🐳&lt;/h1&gt;
&lt;p&gt;Si vous êtes à l’aise avec Docker, alors la configuration suivante vous permettra de mettre en place votre instance Matrix. Pour les plus barbus, vous pouvez aussi &lt;a href="https://github.com/spantaleev/matrix-docker-ansible-deploy"&gt;jouer avec Ansible&lt;/a&gt; 🤓&lt;/p&gt;
&lt;p&gt;La configuration générale ici est donc d’installer le moteur Synapse avec sa &lt;span class="caps"&gt;DB&lt;/span&gt; Postgres. Avec seulement ceci, vous pourrez bénéficier d’une instance Matrix qui tourne très bien.&lt;/p&gt;
&lt;p&gt;Pour tout le reste, ce sont les Bridges, que vous pouvez simplement commenter pour ne pas les déployer dans un premier temps, (ou jamais ? 😤)&lt;/p&gt;
&lt;h2&gt;Docker compose file&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;'3'&lt;/span&gt;

&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Synapse&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;synapse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrixdotorg/synapse:latest&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-synapse&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-synapse&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;SYNAPSE_CONFIG_PATH=/data/homeserver.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/Synapse:/data&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges:/bridges&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/test:/var/log&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8448:8448/tcp&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8008:8008/tcp&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;matrix-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;postgres&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_USER=synapse&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_PASSWORD=**********&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRESQL_PASSWORD=**********&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_DB=matrix&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/Postgres:/var/lib/postgresql/data&lt;/span&gt;

&lt;span class="c1"&gt;# BRIDGES CONTAINERS ##########&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Signal bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/signal&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/signald:/signald&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29328:29328/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signal-db&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;signald&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/signald/signald&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/signald:/signald&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;signal-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;postgres&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signal-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signal-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_USER=mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_DATABASE=mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_PASSWORD=**********&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/Postgres:/var/lib/postgresql/data&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Discord bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-discord&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/discord&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-discord&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-discord&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/discord/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29334:29334/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Whatsapp bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-whatsapp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/whatsapp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-whatsapp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-whatsapp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/bridges/whatsapp/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29318:29318/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Facebook bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-facebook&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/facebook&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-facebook&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-facebook&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/facebook/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29319:29319/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Instagram bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-instagram&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/instagram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-instragram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-instagram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/instagram/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29330:29330/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Telegram bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-telegram&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/telegram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-telegram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-telegram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/telegram/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29317:29317/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="c1"&gt;# Slack bridge&lt;/span&gt;
&lt;span class="nt"&gt;mautrix-slack&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/slack&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-slack&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-slack&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/slack/data:/data&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29335:29335/tcp&lt;/span&gt;
&lt;span class="w w-Error"&gt; &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="c1"&gt;# Wechat bridge &lt;/span&gt;
&lt;span class="nt"&gt;matrix-wechat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;lxduo/matrix-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/heuzef/matrix/bridges/wechat/data:/data&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;17778:17778/tcp&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="c1"&gt;# Wechat agent&lt;/span&gt;
&lt;span class="nt"&gt;agent-wechat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;lxduo/matrix-wechat-docker&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;agent-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;agent-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;WECHAT_HOST=wss://matrix-wechat/_wechat/&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;WECHAT_SECRET=00000000000&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/heuzef/matrix/bridges/wechat/hongli/:/home/user/matrix-wechat-agent&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-wechat&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Configuration de Synapse&lt;/h2&gt;
&lt;p&gt;Générer le fichier de config Synapse : &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker run -it --rm -v /home/matrix/Synapse/:/data -e SYNAPSE_SERVER_NAME=matrix.domain.tld -e SYNAPSE_REPORT_STATS=no matrixdotorg/synapse:latest generate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce fichier de configuration sera généré dans  &lt;strong&gt;/home/matrix/Synapse/homeserver.yaml&lt;/strong&gt;, plutôt simple à comprendre, voici quelques paramètres à modifier selon vos besoins :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;max_upload_size&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;100M&lt;/span&gt;
&lt;span class="nt"&gt;enable_registration&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="nt"&gt;enable_registration_without_verification&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="nt"&gt;app_service_config_files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/discord/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/facebook/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/instagram/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/signal/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/slack/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/telegram/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/wechat/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/whatsapp/data/registration.yaml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chaque fichier de configuration des bridges est similaire, les paramètres récurrents à modifier sont les suivants :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;homeserver&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;address&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;https://matrix.domain.tld&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;domain&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix.domain.tld&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;address&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://&amp;lt;hostname&amp;gt;:&amp;lt;port&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;0.0.0.0&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;lt;port&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;database&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;sqlite3&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;uri&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;lt;bridge&amp;gt;-db.sqlite&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;permissions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s"&gt;"*"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;relay&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s"&gt;"matrix.domain.tld"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;user&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s"&gt;"@votre-pseudo:matrix.domain.tld"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;admin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, vous pouvez démarrer toute la tambouille : &lt;code&gt;docker compose -f /home/matrix/docker-compose.yml up&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Le premier lancement prend du temps, les fichiers de configuration et de &lt;strong&gt;registration.yaml&lt;/strong&gt; doivent être générés par Synapse (n’anticipez pas leur création), confirmant que tout fonctionne correctement, ensuite, vous pouvez éditer les paramètres.&lt;/p&gt;
&lt;p&gt;Vous aurez probablement une erreur de permission sur ces fichiers au lancement, ajustez simplement cela ainsi :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;644&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/home/matrix/bridges/*/data/registration.yaml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Visioconférence&lt;/h2&gt;
&lt;p&gt;Si vous souhaitez utiliser la visioconférence, notez bien que cette dernière ne fonctionnera qu’en local sur votre réseau interne. Pour aller plus loin et profiter pleinement des fonctionnalités de la visioconférence, il vous faudra mettre en service un serveur &lt;span class="caps"&gt;TURN&lt;/span&gt; : &lt;a href="https://matrix-org.github.io/synapse/latest/turn-howto.html"&gt;Configuring a Turn Server - Synapse&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Mon retour d’expérience sur les différents Bridges 📢&lt;/h1&gt;
&lt;p&gt;Vous remarquerez que la plupart des Bridges sont déployées via &lt;a href="https://docs.mau.fi/bridges/general/docker-setup.html?bridge=telegram&amp;amp;ref=infos.zogg.fr"&gt;&lt;span class="caps"&gt;MAUTRIX&lt;/span&gt;&lt;/a&gt;. Ce n’est pas pour rien, car la plus grande panoplie est éditée par eux et ce sont aussi bien souvent les bridges les plus stables.&lt;/p&gt;
&lt;p&gt;Pour rappel &lt;a href="https://matrix.org/ecosystem/bridges/"&gt;la liste des Bridges est diffusée sur le site officiel de Matrix&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;De façon générale, la logique d’ajout d’un bridge est toujours la même :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Exécution du bridge&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Depuis votre client Matrix préféré, rechercher le bot du bridge pour commencer une discussion avec lui&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dans le canal de discussion avec le bot taper &lt;code&gt;help&lt;/code&gt; pour afficher les actions possibles&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Signal&lt;/h2&gt;
&lt;p&gt;Le Bridge de Signal est un peu lourd à mettre en place, car il réclame une &lt;span class="caps"&gt;DB&lt;/span&gt; à part (ce que je vous conseille vivement de faire pour les performances).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Inviter @signalbot&lt;/li&gt;
&lt;li&gt;Enregistrez votre téléphone &lt;code&gt;register +33000000000&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Récupérer un jeton captcha sur le site dédié de signal&lt;/li&gt;
&lt;li&gt;https://signalcaptchas.org/registration/generate.html&lt;/li&gt;
&lt;li&gt;Récupérer le token situé juste après le &lt;strong&gt;signalcaptcha://signal-recaptcha-v2.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Valider le code &lt;span class="caps"&gt;SMS&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Définir son nom : &lt;code&gt;set-profile-name VOTRE-NOM&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Discord&lt;/h2&gt;
&lt;p&gt;Pour Discord, la première initialisation ne permet que de jongler avec les messageries privées, vous aurez ensuite besoin de jouer avec les commandes du bridges pour rejoindre les différents canaux (plus communément appelées “Serveurs Discord” par les Moldus) via leur identifiant unique.&lt;/p&gt;
&lt;p&gt;Ensuite, c’est le gros dawa, si vous invitez une guilde assez grosse, vous allez vous retrouver avec autant de notification d’invitation à accepter que de catégories ! Bon une fois que c’est validé, vous êtes tranquille, mais faite très attention aux journaux qui vont être générés sur votre serveur, ça va très rapidement remplir l’espace disque s’il y a de l’activité sur vos canaux Discord !&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Inviter @discordbot&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sur l’application mobile : &lt;em&gt;paramètres de l’app &amp;gt; “Scanner le &lt;span class="caps"&gt;QR&lt;/span&gt; code”&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Envoyer la commande au bot : &lt;code&gt;login-qr&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La commande &lt;code&gt;guilds status&lt;/code&gt; permet d’afficher les différents “Serveurs Discord”&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;WhatsApp&lt;/h2&gt;
&lt;p&gt;Alors WhatsApp, pour faire simple, dispose d’une sécurité très désagréable qui consiste à déconnecter tous vos accès tiers après une semaine, super …&lt;/p&gt;
&lt;p&gt;Cela concerne donc également votre Bridge qu’il vous faudra reconnecter avec un QRCode toute les semaines. Donc nous sommes bien forcé de conserver l’application officiel sur notre tel uniquement pour ça … voila voila … 👌&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Inviter @whatsappbot&lt;/li&gt;
&lt;li&gt;Sur l’application mobile : &lt;em&gt;paramètres de l’app &amp;gt; “Scanner le &lt;span class="caps"&gt;QR&lt;/span&gt; &lt;span class="caps"&gt;QR&lt;/span&gt;”&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Envoyer la commande au bot : &lt;code&gt;login&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Facebook et Instagram&lt;/h2&gt;
&lt;p&gt;Dans le même type de flood absurde que Discord, vous allez recevoir une notification d’invitation à accepter pour chaque personne … J’espère pour vous que vous êtes un asocial avec peu d’amis sur ces plateformes, sinon vous aller user votre souris à accepter des centaines d’invitations une par une.
Un conseil, tester bien vos volumes docker, le redémarrage du Bridge à tendance à tout remettre à zéro, histoire de vous pousser au suicide une bonne fois pour toutes 😖&lt;/p&gt;
&lt;h2&gt;Telegram&lt;/h2&gt;
&lt;p&gt;Un peu plus long à mettre en place, le bot étant encore en prototype au moment de mon test, mais ensuite, cela fonctionne correctement.&lt;/p&gt;
&lt;p&gt;Sur la configuration, il est nécessaire d’ajouter une clef d’&lt;span class="caps"&gt;API&lt;/span&gt; récupérable sur : https://my.telegram.org/apps&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;App api_id: 00000000
App api_hash: 00000000000000000000000000000000 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Inviter @telegrambot&lt;/li&gt;
&lt;li&gt;Sur l’application mobile : &lt;em&gt;paramètres de l’app &amp;gt; “Scanner le code &lt;span class="caps"&gt;QR&lt;/span&gt;”&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Envoyer la commande au bot : &lt;code&gt;login-qr&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;WeChat&lt;/h2&gt;
&lt;p&gt;La palme d’or de la torture revient à nos amis Chinois avec leur outil abominable.&lt;/p&gt;
&lt;p&gt;Créé par un nerd Chinois répondant au nom de &lt;a href="https://github.com/duo/matrix-wechat-docker"&gt;lxduo&lt;/a&gt;, ce dernier (probablement considéré par un terroriste par le gouvernement chinois), a eu la patience de mettre au monde un Bridge capable de s’accoupler avec cette horreur de WeChat.&lt;/p&gt;
&lt;p&gt;Ce qui donne naissance à une terrible usine à Gaz qui vous servira d’hôte, qui vous faudra accompagner d’autant d’usines à gaz supplémentaire que vous souhaitez ajouter de compte WeChat … Le gros délire en termes de consommation de ressource 😭.&lt;/p&gt;
&lt;p&gt;Bon dans mon cas &lt;a href="https://github.com/duo/matrix-wechat-docker/issues/2"&gt;je n’ai même pas réussi à le faire tomber en marche&lt;/a&gt; et à vrai dire, j’ai sûrement été banni de l’outil par le gouvernement car impossible de me créer un compte, j’ai donc renoncé.
Je prévois un voyage en Chine en 2024, je vais en profiter pour me créer un compte en catimini avec un numéro sur place, je ferais peut-être un article à ce sujet un jour si c’est croustillant.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Inviter @wechatbot&lt;/li&gt;
&lt;li&gt;Sur l’application mobile : &lt;em&gt;paramètres de l’app &amp;gt; “Scanner le code &lt;span class="caps"&gt;QR&lt;/span&gt;”&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Envoyer la commande au bot : &lt;code&gt;login&lt;/code&gt; pour tenter de détecter l’agent WeChat&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;span class="caps"&gt;SMS&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;En bonus, j’ai tenté l’utilisation de &lt;a href="https://f-droid.org/en/packages/eu.droogers.smsmatrix/"&gt;SmsMatrix&lt;/a&gt;, une application Android qui peut fonctionner avec un Bridge, j’ai fait fonctionner le machin ainsi :&lt;/p&gt;
&lt;p&gt;S’authentifier sur le compte &lt;strong&gt;@smsbot:matrix.domain.tld&lt;/strong&gt; et inviter son compte utilisateur pour créer un canal de discussion.
Après autorisation, installer SmsMatrix sur votre téléphone :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Bot&lt;/span&gt; &lt;span class="n"&gt;Username&lt;/span&gt; : &lt;span class="n"&gt;smsbot&lt;/span&gt;
&lt;span class="n"&gt;Bot&lt;/span&gt; &lt;span class="n"&gt;Password&lt;/span&gt; : **********
&lt;span class="n"&gt;Homeserver&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt; : &lt;span class="n"&gt;https:&lt;/span&gt;//&lt;span class="n"&gt;matrix&lt;/span&gt;.&lt;span class="n"&gt;domain&lt;/span&gt;.&lt;span class="n"&gt;tld&lt;/span&gt;
&lt;span class="n"&gt;Your&lt;/span&gt; &lt;span class="n"&gt;username&lt;/span&gt; @&lt;span class="s"&gt;&amp;lt;USER&amp;gt;&lt;/span&gt;:&lt;span class="n"&gt;matrix&lt;/span&gt;.&lt;span class="n"&gt;com&lt;/span&gt;
&lt;span class="n"&gt;Devicename&lt;/span&gt; : &lt;span class="s"&gt;&amp;lt;NOM-DU-TEL&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il suffit ensuite de recevoir un &lt;span class="caps"&gt;SMS&lt;/span&gt; pour initialiser une conversation.&lt;/p&gt;
&lt;h1&gt;Conclusion 🗒&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Matrix, c’est le top du top de la messagerie. Tant sur l’aspect technique qu’éthique.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Peu de personne connaissent et n’utilisent ça dans le monde pro et encore moins ailleurs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La configuration d’un serveur &lt;span class="caps"&gt;TURN&lt;/span&gt; supplémentaire est nécessaire si vous souhaitez profiter de la Visioconférence.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La configuration des Bridges est très chronophage et instable.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;C’est tout pour moi 😉 je vous relais maintenant les notes de mon ami &lt;a href="https://www.linkedin.com/in/lucasassier"&gt;Lucas Assier&lt;/a&gt;, qui souhaite également partager son expérience avec Matrix.
Sans aller aussi loin que moi sur la quantité de Bridge testés, il a cependant abordé le Double Puppetting, très intéressant pour profiter pleinement des Bridges.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;L’article ci-dessous, rédigé par &lt;a href="https://www.linkedin.com/in/lucasassier"&gt;Lucas Assier&lt;/a&gt;, date de Septembre 2023.&lt;/p&gt;
&lt;hr/&gt;
&lt;h1&gt;Pourquoi Matrix&lt;/h1&gt;
&lt;p&gt;À cela plusieurs raisons et cas d’usages :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;En premier, les communications sont chiffrées, dans la mesure du possible, par design, ce qui permet de discuter avec des amis de sujets sensibles sans avoir à se soucier de voir nos communications et pièces jointes sur un &lt;span class="caps"&gt;CDN&lt;/span&gt; random (N’est-ce pas Discord ?).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En second, le système de fédération : un utilisateur d’un serveur peut communiquer sur un serveur différent de manière transparente. J’ai pu voir cela l’an dernier sur l’instance de visioconférence de la Fosdem qui n’est autre qu’une instance Matrix avec un plugin jitsi&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Le système de bridges : Le protocole de serveur Matrix a été pensé pour inclure un système de “passerelles” permettant de lier un service quelconque a Matrix. C’est notamment ce système qui m’a poussé à passer le pas et à déployer ma propre instance Matrix.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Terminologie&lt;/h1&gt;
&lt;h2&gt;Provider&lt;/h2&gt;
&lt;p&gt;Matrix, c’est un peu comme le système de mails, il faut un fournisseur ou &lt;strong&gt;provider&lt;/strong&gt; pour pouvoir communiquer. Pour cela, un &lt;strong&gt;homeserver&lt;/strong&gt; va leur donner un compte, exemple :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 1" class="img-fluid" src="../../assets/matrix_exemple_1.png"/&gt;&lt;/p&gt;
&lt;h2&gt;Homeserver&lt;/h2&gt;
&lt;p&gt;Un &lt;strong&gt;homeserver&lt;/strong&gt; est un serveur Matrix (Synapse, Conduit, etc …).&lt;/p&gt;
&lt;p&gt;Il est lié a un seul domaine qui n’est pas voué a changer.
Les comptes générés via les &lt;strong&gt;homeserver&lt;/strong&gt; sont en deux parties comme suit :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@user@homeserver.tld&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Pour reprendre l’exemple ci-dessus, cela donnerait :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 2" class="img-fluid" src="../../assets/matrix_exemple_2.png"/&gt;&lt;/p&gt;
&lt;h2&gt;AppService&lt;/h2&gt;
&lt;p&gt;C’est ce que l’on peut comparer à un bot standard.
Les AppServices doivent être enregistrés dans la configuration du serveur, il n’est pas possible de les enregistrer à la volée.&lt;/p&gt;
&lt;h2&gt;Bridges&lt;/h2&gt;
&lt;p&gt;Un bridge est un système permettant de connecter un groupement Matrix à une autre plateforme, par exemple, Slack ou encore Signal.&lt;/p&gt;
&lt;p&gt;Les bridges fonctionnent de deux manières :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Dans Matrix, les utilisateurs des autres plateformes sont vus en tant que “&lt;em&gt;ghost&lt;/em&gt;“.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dans l’autre plateforme, les comptes utilisateurs de Matrix sont appelés des “&lt;em&gt;puppets&lt;/em&gt;“.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Exemple :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 3" class="img-fluid" src="../../assets/matrix_exemple_3.png"/&gt;&lt;/p&gt;
&lt;p&gt;Les spécifications Matrix sont complexe mais entièrement documentées &lt;a href="https://spec.matrix.org/latest/"&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Choisir son serveur&lt;/h1&gt;
&lt;p&gt;Aujourd’hui, Matrix possède plusieurs implémentations serveurs plus ou moins aboutis.
Il y en a trois qui en ont retenu mon attention :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Synapse&lt;/strong&gt; - la référence originale en python. C’est le seul projet de serveur marqué comme stable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Conduit&lt;/strong&gt; - une implémentation en &lt;em&gt;&lt;span class="caps"&gt;RUST&lt;/span&gt;&lt;/em&gt; du protocole serveur de Matrix mais avec une empreinte mémoire plus faible.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Dendrite&lt;/strong&gt; - la même volonté que Conduit, mais en &lt;em&gt;&lt;span class="caps"&gt;GO&lt;/span&gt;&lt;/em&gt;. Certaines fonctions sont manquantes, la priorité étant l’implémentation des fonctions pour les instances single user.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Monter son homeserver&lt;/h1&gt;
&lt;h2&gt;Préparations&lt;/h2&gt;
&lt;p&gt;Pour des raisons pratiques, nous allons assumer que le serveur retenu est Synapse (car officiel et implémente l’intégralité des fonctionnalités).
En premier lieu, il faut réfléchir à un nom de domaine, c’est très important car il est
impossible de le changer une fois le serveur installé.&lt;/p&gt;
&lt;p&gt;Ensuite, il y a plusieurs manières d’installer un serveur Synapse :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Via un package manager&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Via Ansible&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Via Docker&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ici, nous verrons via Docker.&lt;/p&gt;
&lt;h2&gt;La stack technique de la démo&lt;/h2&gt;
&lt;h3&gt;Un reverse-proxy&lt;/h3&gt;
&lt;p&gt;Initialement, le projet est déployé dans une colocation de homelabs derrière un seul et même port.&lt;/p&gt;
&lt;p&gt;Par conséquent, nous passons par Caddy afin de faire le routage en reverse-proxy.&lt;/p&gt;
&lt;p&gt;Cela, peut-être contraignant, mais il est quand même nécessaire d’en avoir un avec Synapse, notamment quand on va vouloir faire de la délégation.&lt;/p&gt;
&lt;h3&gt;Une instance Docker&lt;/h3&gt;
&lt;p&gt;Pour héberger le serveur ainsi que les bridges, le serveur et les bridges seront en deux stacks Docker-compose séparés.&lt;/p&gt;
&lt;h2&gt;Déployer le serveur Synapse&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;'3'&lt;/span&gt;
&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;synapse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/matrixdotorg/synapse:latest&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;SYNAPSE_CONFIG_PATH=/data/homeserver.yaml&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-data:/data&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-db&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8448:8448/tcp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Federation Traffic&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8008:8008/tcp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Client Traffic&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;default&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;bridgenet&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;synapse-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-pgsql&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/postgres:12-alpine&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_USER=synapse&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_PASSWORD=changeme!&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_DB=synapse&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C&lt;/span&gt;
&lt;span class="err"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-pgsql:/var/lib/postgresql/data&lt;/span&gt;
&lt;span class="err"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;synapse-data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;synapse-pgsql&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="err"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;bridgenet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;                &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse_bridges&lt;/span&gt;
&lt;span class="err"&gt;                &lt;/span&gt;&lt;span class="nt"&gt;external&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;À noter, nous avons un réseau Docker dédié a l’intercommunication entre Synapse et les Bridges installés comme suit :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker network create synapse_bridges&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;En premier lieu, il faudra lancer Synapse pour lui dire de générer la configuration :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker-compose run --rm -e SYNAPSE_SERVER_NAME=matrix.kestrel.ovh -e
SYNAPSE_REPORT_STATS=no synapse generate&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;En suivant, il faudra éditer la configuration &lt;code&gt;homeserver.yaml&lt;/code&gt; dans le volume synapse-data. &lt;/p&gt;
&lt;p&gt;Il sera important de regarder les options de configuration, notamment la configuration de la connexion à la base Postgres, le nom du serveur (&lt;em&gt;server name&lt;/em&gt;), que les serveurs de clés de confiance ainsi que l’option pour autoriser la création de comptes ou non. &lt;/p&gt;
&lt;p&gt;Une fois cela fait, nous pouvons démarrer la stack via &lt;code&gt;docker compose up&lt;/code&gt;. &lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;On pourrait faire en background mais comme nous en sommes à la phase de lancement initiale, je préfère laisser en premier plan afin de voir si l’application lance des erreurs ou non.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Configurer le reverse proxy et setup une délégation&lt;/h2&gt;
&lt;p&gt;Par délégation, nous sous-entendons relayer le trafic Matrix a une entité dans un sous-domaine ou ailleurs.&lt;/p&gt;
&lt;p&gt;Ici, mon server name est &lt;code&gt;kestrel.ovh&lt;/code&gt;, pour autant, le trafic est délégués vers &lt;code&gt;matrix.kestrel.ovh&lt;/code&gt; via la configuration suivante :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;kes&lt;/span&gt;&lt;span class="kc"&gt;trel&lt;/span&gt;&lt;span class="err"&gt;.ovh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="err"&gt;       header&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;/.well&lt;/span&gt;&lt;span class="mi"&gt;-&lt;/span&gt;&lt;span class="err"&gt;k&lt;/span&gt;&lt;span class="kc"&gt;n&lt;/span&gt;&lt;span class="err"&gt;ow&lt;/span&gt;&lt;span class="kc"&gt;n&lt;/span&gt;&lt;span class="err"&gt;/ma&lt;/span&gt;&lt;span class="kc"&gt;tr&lt;/span&gt;&lt;span class="err"&gt;ix/* Content-Type application/json&lt;/span&gt;
&lt;span class="err"&gt;       header /.well-known/matrix/* Access-Control-Allow-Origin *&lt;/span&gt;
&lt;span class="err"&gt;       respond /.well-known/matrix/server `{"m.server":&lt;/span&gt;
&lt;span class="err"&gt;"matrix.kestrel.ovh:443"}`&lt;/span&gt;
&lt;span class="err"&gt;       respond /.well-known/matrix/client `{"m.homeserver":&lt;/span&gt;
&lt;span class="err"&gt;{"base_url":"https://matrix.kestrel.ovh"}}`&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;span class="err"&gt;matrix.kestrel.ovh {&lt;/span&gt;
&lt;span class="err"&gt;       reverse_proxy /_matrix/* 192.168.1.102:8008&lt;/span&gt;
&lt;span class="err"&gt;       reverse_proxy /_synapse/client/* 192.168.1.102:8008&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il existe &lt;a href="https://matrix-org.github.io/synapse/latest/reverse_proxy.html"&gt;une documentation&lt;/a&gt; sur la configuration de divers reverse-proxy pour Matrix, avec ou sans délégation.
Pour tester si la configuration est correcte, on peut utiliser &lt;a href="https://federationtester.matrix.org"&gt;le testeur de fédération&lt;/a&gt; et voir si le trafic de fédération est &lt;span class="caps"&gt;OK&lt;/span&gt;.&lt;/p&gt;
&lt;h2&gt;Créer des comptes&lt;/h2&gt;
&lt;p&gt;Pour créer des comptes, il est possible de passer via une interface cliente Matrix tel que &lt;a href="https://app.element.io/#/register"&gt;Element&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pour les serveurs qui n’acceptent pas la création de comptes, il est possible de le faire via le conteneur Synapse via la commande suivante :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker exec -it synapse register_new_matrix_user http://localhost:8008 -c
/data/homeserver.yaml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Synapse demandera quelques questions puis créera les comptes.&lt;/p&gt;
&lt;p&gt;Personnellement, j’ai opté pour un compte admin dont je ne me sers uniquement pour l’administration du serveur ainsi qu’un utilisateur standard pour mon usage quotidien.&lt;/p&gt;
&lt;p&gt;À ce stade, nous avons une instance Matrix fonctionnelle, avec un compte. Nous pouvons donc nous pencher sur l’ajout de Bridges !&lt;/p&gt;
&lt;h1&gt;Ajouter un Bridge&lt;/h1&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Le déploiement d’un Bridge peut être long et fastidieux, par conséquent, nous ne verrons que pour le Bridge Mautrix-signald&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Docker Compose 2: Electric Boogaloo&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"3.7"&lt;/span&gt;

&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/signal&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-data:/data&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-signald:/signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;default&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;bridgenet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Communication w/ Synapse&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;signald&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/signald/signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-signald:/signald&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mau-signal-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mau-signal-db&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;postgres:13-alpine&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;POSTGRES_USER&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;POSTGRES_DATABASE&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;POSTGRES_PASSWORD&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;changeme!&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-db:/var/lib/postgresql/data&lt;/span&gt;

&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal-data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal-signald&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;

&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;bridgenet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse_bridges&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;external&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ici, pas énormément de choses à dire, on lance la &lt;span class="caps"&gt;DB&lt;/span&gt;, puis signald (en vérifiant que cela ne crash pas). Ensuite, on lance le Bridge qui crée un fichier de configuration.&lt;/p&gt;
&lt;p&gt;Il faudra remplir le fichier avec les informations comme :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L’adresse du serveur Synapse&lt;/li&gt;
&lt;li&gt;L’adresse du conteneur du bridge (Pour que Synapse relaie nos messages)&lt;/li&gt;
&lt;li&gt;Désactiver le manhole&lt;/li&gt;
&lt;li&gt;Régler les permissions&lt;/li&gt;
&lt;li&gt;Connecter la base postgres&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Enregistrer une AppService dans Synapse&lt;/h2&gt;
&lt;p&gt;Une fois cela fait, on relance le conteneur. Si tout est correct, celui-ci va générer un fichier &lt;code&gt;appservice.yaml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Il faudra le copier dans le volume du conteneur synapse et le référencer comme suit dans la configuration &lt;code&gt;homeserver.yaml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# NB: Il est pas necessaire de faire de sous-dossiers appservices mais c'est&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;plus sympa.&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;app_service_config_files&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/data/appservices/mau-signal.yaml&lt;/span&gt;
&lt;span class="err"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/data/appservices/mau-instagram.yaml&lt;/span&gt;
&lt;span class="err"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/data/appservices/mau-slack.yaml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois ceci fait, relancer Synapse ainsi que le Bridge. Si tout fonctionne, le doit être joignable via message privé à l’adresse &lt;strong&gt;@signalbot:homeserver.tld&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Se connecter à Signal&lt;/h2&gt;
&lt;p&gt;Pour se connecter à Signal, il faudra ouvrir un canal avec le bot, puis choisir une des deux options possibles :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;**link** [device name] - Link the bridge as a secondary device&lt;/code&gt;
&lt;code&gt;**register** &amp;lt;phone&amp;gt; - Sign into Signal as the primary device&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Malheureusement, j’ai eu une erreur quand j’ai voulu “register”” donc je suis passé via “link”, le bot fournit un &lt;span class="caps"&gt;QR&lt;/span&gt; Code permettant de s’authentifier.&lt;/p&gt;
&lt;p&gt;Une fois l’authentification effectuée, vous recevrez tout un tas d’invitations de messages privés et de canaux. &lt;/p&gt;
&lt;p&gt;Ceux-ci sont gérés via le bot et font le lien avec toutes les conversations présentes sur Signal.&lt;/p&gt;
&lt;p&gt;Par exemple, ici, un canal avec des amis :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 4" class="img-fluid" src="../../assets/matrix_exemple_4.png"/&gt;&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;À noter, le bot est présent dans chaque room afin de faire le lien. Il est possible de lui parler directement via &lt;code&gt;!signal&lt;/code&gt; ou via &lt;span class="caps"&gt;MP&lt;/span&gt;.
En gris, tous les utilisateurs ayant le tag &lt;code&gt;(signal)&lt;/code&gt; sont des “&lt;strong&gt;ghosts&lt;/strong&gt;” contrôlés par le bot.&lt;/p&gt;
&lt;p&gt;Il est bon de noter aussi que nous ne sommes pas administrateur du canal mais que les admins du groupe Signal le sont par extension sur ce canal Matrix.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Le Double Puppetting&lt;/h2&gt;
&lt;p&gt;Sur la capture d’écran précédente, nous avons pu voir que je possède deux comptes, un compte Matrix et un compte Signal.&lt;/p&gt;
&lt;p&gt;On pourrait dire que l’on s’en fiche dans certains cas mais cela pose problème lorsque les gens veulent me mentionner. &lt;/p&gt;
&lt;p&gt;Exemple ici :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 5" class="img-fluid" src="../../assets/matrix_exemple_5.png"/&gt;&lt;/p&gt;
&lt;p&gt;Ici on me mentionne pour un événement. Problème, le Bridge mentionne mon compte Signal et non moi-même.
Pour palier à cela, les développeurs ont ajouté une fonction permettant de remplacer le compte de la plateforme en question (Ici, &lt;em&gt;Lucas(Signal)&lt;/em&gt; ) par mon propre compte Matrix.&lt;/p&gt;
&lt;p&gt;Pour ce faire, il est possible de passer par deux manières de faire :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A la main via des “access tokens (à coup de &lt;code&gt;curl&lt;/code&gt; puis via des &lt;span class="caps"&gt;MP&lt;/span&gt; aux différents bots de Bridge).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Automatiquement via &lt;a href="https://github.com/devture/matrix-synapse-shared-secret-auth"&gt;ce plugin&lt;/a&gt;. Pour des raisons évidentes, nous allons passer par le plugin.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Installer le module Shared Secret Authenticator&lt;/h3&gt;
&lt;p&gt;Pour installer le module, il faudra cloner depuis le dépôt &lt;span class="caps"&gt;GIT&lt;/span&gt;, le fichier python, puis l’ajouter aux volumes du conteneur synapse.&lt;/p&gt;
&lt;p&gt;Cloner le dépôt : &lt;code&gt;git clone https://github.com/devture/matrix-synapse-shared-secret-auth&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Puis l’ajouter en tant que volume :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p p-Indicator"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;...&lt;/span&gt;&lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-data:/data&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/opt/matrix-synapse-shared-secret-auth/shared_secret_authenticator.py:/usr/local/lib/python3.11/site-packages/shared_secret_authenticator.py&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Générer un secret : &lt;code&gt;pwgen -s 128 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Puis, dans le fichier &lt;code&gt;homeserver.yaml&lt;/code&gt;, saisir les informations recensées dans le &lt;span class="caps"&gt;GIT&lt;/span&gt; croisées avec &lt;a href="https://docs.mau.fi/bridges/general/double-puppeting.html"&gt;la documentation de Mautrix&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;modules&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;module&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;shared_secret_authenticator.SharedSecretAuthProvider&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;config&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;shared_secret&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"YOUR_SHARED_SECRET_GOES_HERE"&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;m_login_password_support_enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;com_devture_shared_secret_auth_support_enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois cela fait et le conteneur Synapse relancé, dans la configuration du Bridge Signal, remplacer :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;double_puppet_server_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;example.com&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;https://example.com&lt;/span&gt;
&lt;span class="w w-Error"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;login_shared_secret_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;example.com&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;double_puppet_server_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;kestrel.ovh&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://synapse:8008&lt;/span&gt;
&lt;span class="w w-Error"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;login_shared_secret_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;kestrel.ovh&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;YOUR_SHARED_SECRET_GOES_HERE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci fait, relancer le conteneur Signal.
Si cela fonctionne correctement, le compte en trop doit disparaître et les mentions envers ce compte sont maintenant redirigées vers l’utilisateur Matrix correct.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 6" class="img-fluid" src="../../assets/matrix_exemple_6.png"/&gt;&lt;/p&gt;</content><category term="Informatique"></category><category term="autohébergement"></category><category term="web"></category><category term="social"></category><category term="docker"></category><category term="tchat"></category><category term="communication"></category></entry><entry><title>Générer ses diagrammes avec Python</title><link href="https://heuzef.com/notes/generer-ses-diagrammes-avec-python/" rel="alternate"></link><published>2023-08-23T00:00:00+02:00</published><updated>2023-08-23T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-08-23:/notes/generer-ses-diagrammes-avec-python/</id><summary type="html">&lt;p&gt;Dans cet article, nous allons nous initier au &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; afin de réaliser de magnifiques schémas en Python.&lt;/p&gt;
&lt;p&gt;Aujourd’hui, il est assez tentant de s’orienter vers des solutions comme Draw.io pour réaliser des schémas visuellement agréable, mais l’outil en lui-même ne me convient pas, car je ne …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Dans cet article, nous allons nous initier au &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; afin de réaliser de magnifiques schémas en Python.&lt;/p&gt;
&lt;p&gt;Aujourd’hui, il est assez tentant de s’orienter vers des solutions comme Draw.io pour réaliser des schémas visuellement agréable, mais l’outil en lui-même ne me convient pas, car je ne le trouve pas assez flexible. Je souhaite utiliser un outil libre sans restriction et qui permet de générer confortablement (voir automatiquement) des beaux schémas que je peux exporter en &lt;span class="caps"&gt;SVG&lt;/span&gt; et &lt;span class="caps"&gt;PDF&lt;/span&gt; à la demande.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Diagrams" class="img-fluid" src="../../assets/diagrams.png"/&gt;&lt;/p&gt;
&lt;h1&gt;Pourquoi utiliser du &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; ? 🤔&lt;/h1&gt;
&lt;p&gt;Pour l’évolution des schémas dans le temps, il devient alors très usant de ressortir son logiciel pour éditer proprement pour une simple mise à jour.&lt;/p&gt;
&lt;p&gt;En tant que Graphiste, il m’est difficile de ne pas être perfectionniste et la moindre mise à jour prend alors beaucoup trop de temps pour avoir un rendu satisfaisant.
Changer de logique pour le &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; permet donc de ne plus du tout sortir de logiciel de &lt;span class="caps"&gt;PAO&lt;/span&gt;, mais de simplement tout coder. En plus d’être une solution légère, il est alors agréable de revenir dans le code pour actualiser son schéma. Couplé avec du versionnage, c’est encore plus plaisant à maintenir.&lt;/p&gt;
&lt;h1&gt;Recherche d’outil 🔍&lt;/h1&gt;
&lt;p&gt;J’ai mis du temps à trouver mon bonheur, entre les vieux projets dépréciés de geek frustrés difficile à exploiter, puis je suis tombé sur la référence, à savoir &lt;a href="https://kroki.io"&gt;Kroki.io&lt;/a&gt; qui convient à beaucoup, car bien maintenu et dispose de tout un tas de librairie populaire … mais c’est tout ! Très efficace pour générer automatiquement des diagrammes, il n’offre cependant pas la flexibilité pour réaliser l’effet visuel “wahou” que je cherche ni la simplicité.&lt;/p&gt;
&lt;p&gt;J’ai bien évidement trouvé la pépite, c’est pour ça que je fait cette note 😜.
Voici donc comment prendre en main &lt;a href="https://diagrams.mingrammer.com/"&gt;&lt;span class="caps"&gt;DIAGRAMS&lt;/span&gt;&lt;/a&gt; de Mingrammer.&lt;/p&gt;
&lt;h1&gt;Fonctionnement de Diagrams ⚙️&lt;/h1&gt;
&lt;p&gt;Le principe d’utilisation est au plus efficace, le schéma est sous forme d’un fichier Python (.py) :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;diagrams&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Diagram&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;diagrams.aws.compute&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;EC2&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;Diagram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Simple Diagram"&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;EC2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"web"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il permet de générer le rendu d’une simple commande :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;python3&lt;span class="w"&gt; &lt;/span&gt;diagram.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et paf, nous voici avec une image !&lt;/p&gt;
&lt;p&gt;Voici un exemple un peu plus complexe :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Diagrams" class="img-fluid" src="../../assets/dac.jpg"/&gt;&lt;/p&gt;
&lt;h1&gt;Installation 🔧&lt;/h1&gt;
&lt;p&gt;En utilisant son gestionnaire de paquet préféré pour déployer Python, Pip, Graphiz et Inkscape (sera utile pour la suite), par exemple sur une base &lt;span class="caps"&gt;RHEL&lt;/span&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dnf&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;python3-pip&lt;span class="w"&gt; &lt;/span&gt;graphviz&lt;span class="w"&gt; &lt;/span&gt;inkscape
pip3&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;diagrams
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Terminé, aller bisous à la famille, n’oublie pas de nourrir le chien, ciao. J’aime bien ça moi, quand ça ne réclame pas la mise en place d’une usine à gaz ✌️&lt;/p&gt;
&lt;p&gt;Il est possible de l’installer sur d’autres &lt;span class="caps"&gt;OS&lt;/span&gt; comme Windows et MacOS si besoin.&lt;/p&gt;
&lt;p&gt;Pour son utilisation avancée, l’outil est très bien documenté et vous fournit pas mal d’exemple et surtout un guide pour vous expliquer les 3 grands principes, qu’il faut interpréter sur votre schéma ainsi :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nodes : Enssemble de ressources importés&lt;/li&gt;
&lt;li&gt;Clusters : Groupe d’éléments&lt;/li&gt;
&lt;li&gt;Edges : Les liaisons entre les éléments&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ce qui est pratique avec les Nodes, c’est qu’ils sont basé sur des technologies existantes populaires (&lt;span class="caps"&gt;AWS&lt;/span&gt;, Azure, etc …) pour un joli rendu immédiat.&lt;/p&gt;
&lt;p&gt;&lt;i class="fa fa-book"&gt;&lt;/i&gt; &lt;a href="https://diagrams.mingrammer.com/docs/getting-started/installation"&gt;consulter la documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Utilisation de ses propres icones 😍&lt;/h1&gt;
&lt;p&gt;Voici le point le plus intéressant, utiliser ses propres icônes pour un maximum de flexibilité avec le Node &lt;strong&gt;Custom&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Si vous êtes à la recherche d’un pack d’icônes &lt;span class="caps"&gt;SVG&lt;/span&gt; pour réaliser un schéma réseau, vous pouvez tous simplement récupérer ceux de Microsoft Azure qui sont très cool en clonant simplement ce dépôt :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;https://github.com/benc-uk/icon-collection.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Grâce à Inkscape, vous pouvez convertir les images directement dans une taille et format exploitable pour Diagrams pour un rendu de qualité, par exemple :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;inkscape&lt;span class="w"&gt; &lt;/span&gt;-w&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1024&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-h&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1024&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;icon-collection/azure-patterns/server.svg&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;icons/server.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, que nos icônes sont prêtes et stockés dans un dossier (“icons” dans mon cas), il ne reste plus qu’à invoquer tout ça dans son script.&lt;/p&gt;
&lt;h1&gt;Mise en application 👷&lt;/h1&gt;
&lt;p&gt;Voici maintenant comment initier un script Python avec icônes personnalisées (et ma configuration maison en bonus) :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Importation des dépendances&lt;/span&gt;
from&lt;span class="w"&gt; &lt;/span&gt;diagrams&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;Diagram,&lt;span class="w"&gt; &lt;/span&gt;Cluster,&lt;span class="w"&gt; &lt;/span&gt;Edge
from&lt;span class="w"&gt; &lt;/span&gt;diagrams.custom&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;Custom
from&lt;span class="w"&gt; &lt;/span&gt;datetime&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;datetime
&lt;span class="nv"&gt;today&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;datetime.today&lt;span class="o"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# Ici la configuration :&lt;/span&gt;
&lt;span class="c1"&gt;# Le titre du schéma avec la date de génération,&lt;/span&gt;
&lt;span class="c1"&gt;# le nom de fichier de sortie avec les formats à générer,&lt;/span&gt;
&lt;span class="c1"&gt;# la direction d'affichage&lt;/span&gt;
&lt;span class="c1"&gt;# https://www.graphviz.org/documentation&lt;/span&gt;
with&lt;span class="w"&gt; &lt;/span&gt;Diagram&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Mon schéma - %s"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;today.strftime&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'%d/%m/%Y %H:%M'&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;show&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;False,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"schema"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;outformat&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="s2"&gt;"png"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"jpg"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"svg"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"pdf"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"dot"&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"TB"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Icones personalisés&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;internet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Custom&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Serveur"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"icons/server.png"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Groupes&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;Cluster&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Zone LAN \n VLAN 1 \n DHCP : 192.168.1.1-99"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nv"&gt;HOME&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Custom&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"192.168.1.0/24"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"icons/server.png"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;Cluster&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Zone DMZ \n VLAN 100 \n DHCP : 192.168.100.1-99"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;DMZ&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Custom&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"192.168.100.0/24"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"icons/server.png"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Liens&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;internet&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;Edge&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"red"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"FTTH"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"bold"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;DMZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici pour le concret, je vous invite à voir le schéma complet que je partage de mon propre réseau domestique à l’adresse &lt;a href="https://network.heuzef.com"&gt;&lt;i class="fa fa-map"&gt;&lt;/i&gt; network.heuzef.com&lt;/a&gt;.
Le code Python de mon schéma y est disponible au téléchargement pour vous aider à apprivoiser l’outil.&lt;/p&gt;</content><category term="Informatique"></category><category term="python"></category><category term="autohébergement"></category><category term="web"></category><category term="diagramme"></category></entry><entry><title>Externaliser ses sauvegardes comme un radin</title><link href="https://heuzef.com/notes/externaliser-ses-sauvegardes-comme-un-radin/" rel="alternate"></link><published>2023-07-31T00:00:00+02:00</published><updated>2023-07-31T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-31:/notes/externaliser-ses-sauvegardes-comme-un-radin/</id><summary type="html">&lt;p&gt;Un point crucial en informatique est l’externalisation des sauvegardes. En effet, si vous ne comptez que sur vos sauvegardes locales (stockées chez vous sur votre &lt;span class="caps"&gt;PC&lt;/span&gt; ou autre), vous allez forcément être punis un de ces jours par une panne de matériel, un cambriolage, etc … et votre vie numérique …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Un point crucial en informatique est l’externalisation des sauvegardes. En effet, si vous ne comptez que sur vos sauvegardes locales (stockées chez vous sur votre &lt;span class="caps"&gt;PC&lt;/span&gt; ou autre), vous allez forcément être punis un de ces jours par une panne de matériel, un cambriolage, etc … et votre vie numérique sera réduite à néant.&lt;/p&gt;
&lt;p&gt;L’externalisation des sauvegardes règle donc ce problème, mais dans mon cas, je suis habitué à des solutions vraiment professionnelles, avec des outils et des moyens importants car les enjeux sont de taille pour la clientèle. Mais comment faire lorsque l’on veut cela à l’échelle d’une &lt;span class="caps"&gt;TPE&lt;/span&gt; ou dans le cadre d’un auto-hébergement sans se ruiner ? J’ai longtemps peiné pour trouver une solution à la hauteur de ma radinerie.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Sauvegardes" class="img-fluid" src="../../assets/backup.png"/&gt;&lt;/p&gt;
&lt;h2&gt;L’outil utilisé : Borg&lt;/h2&gt;
&lt;p&gt;Pour ceux qui ne connaissent pas encore, &lt;a href="https://borgbackup.org"&gt;Borg&lt;/a&gt; coche pour moi toutes les cases pour remplir ce rôle. C’est un outil de sauvegarde sérieux qui répondra parfaitement à des besoins quotidiens de sauvegardes automatiques et sécurisées. Il est open-source, et après l’avoir utilisé pendant un moment, je ne peux que le recommander.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.borgbackup.org/demo.html"&gt;&lt;img alt="asciicast" class="img-fluid" src="https://asciinema.org/a/133292.svg"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Il n’est pas encore aussi évolué qu’un &lt;a href="https://bacula.org"&gt;Bacula&lt;/a&gt; par son manque de &lt;span class="caps"&gt;GUI&lt;/span&gt; et d’outils à usage professionnel, mais c’est l’un des meilleurs outils de sauvegarde du moment, plusieurs projets peuvent compléter Borg si besoin de combler des manques (ex : &lt;a href="https://torsion.org/borgmatic"&gt;Borgmatic&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Je considère bien évidemment que les outils non open-source, tels qu’Acronis, sont à bannir.&lt;/p&gt;
&lt;p&gt;Bien que très fiable, bye-bye également le contre-intuitif BackupPC avec son interface à vomir. Il est de toute façon déjà mort, comme en témoigne mon &lt;a href="https://github.com/backuppc/backuppc/pull/419"&gt;Pull Request&lt;/a&gt; resté sans réponse depuis la nuit des temps.&lt;/p&gt;
&lt;p&gt;Sebsauvage à écrit un &lt;a href="https://sebsauvage.net/wiki/doku.php?id=borgbackup"&gt;bon article sur Borg&lt;/a&gt; si vous voulez vous faire un avis technique avant de l’adopter.&lt;/p&gt;
&lt;h2&gt;Externaliser où ?&lt;/h2&gt;
&lt;p&gt;Entrons donc dans le cœur du problème : &lt;a href="https://youtu.be/Eo9JmYYbACA?t=161"&gt;la thune&lt;/a&gt; 💸&lt;/p&gt;
&lt;p&gt;Pour avoir une externalisation digne de ce nom sans se ruiner, il faut bien s’embêter, ou trouver des bons plans.&lt;/p&gt;
&lt;p&gt;J’ai déjà tenté de le faire à l’ancienne en déplaçant régulièrement des disques durs, mais perdre l’automatisation nocturne est vraiment trop pénible. J’ai également tenté de passer par des amis, ça fonctionne, mais n’espérez pas avoir une solution pérenne. Je me suis retrouvé à déménager ma solution chez un autre chaque année, pour X ou Y raisons ! 😫&lt;/p&gt;
&lt;p&gt;Finalement, je me suis décidé à y mettre des sous, mais chercher une solution pour stocker 5 To de sauvegarde dans mon cas, compatible avec Borg et économique, est vraiment difficile.&lt;/p&gt;
&lt;p&gt;C’est du côté des casques à pointe que j’ai trouvé le bonheur ! &lt;strong&gt;&lt;a href="https://www.hetzner.com"&gt;&lt;span class="caps"&gt;HETZNER&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt; propose un service appelé &lt;strong&gt;&lt;a href="https://www.hetzner.com/storage/storage-box"&gt;Storage Box&lt;/a&gt;&lt;/strong&gt;, compatible avec Borg et à bas prix (12,97€ les 5 To en 2023 dans mon cas !).&lt;/p&gt;
&lt;p&gt;J’exporte depuis quelques mois mes sauvegardes chiffrées chez eux, ça tourne super ! Leur documentation technique est disponible &lt;strong&gt;&lt;a href="https://community.hetzner.com/tutorials/install-and-configure-borgbackup"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt; &lt;span class="caps"&gt;ICI&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt; pour relier leur stockage à votre serveur Borg.&lt;/p&gt;
&lt;p&gt;Je n’ai pas mesuré les débits, mais pour ce prix-là, je peux vous assurer que c’est vraiment top. Dans mon cas, je remplis sans problème les 5 To dans la nuit ✌️&lt;/p&gt;
&lt;p&gt;Bonne installation !&lt;/p&gt;</content><category term="Informatique"></category><category term="autohébergement"></category><category term="sauvegardes"></category><category term="chiffrement"></category><category term="astuce"></category><category term="opensource"></category></entry><entry><title>Pourquoi les photos/vidéos de ma fille sont catégoriquement interdites ?</title><link href="https://heuzef.com/notes/pourquoi-les-photosvideos-de-ma-fille-sont-categoriquement-interdites/" rel="alternate"></link><published>2023-07-30T00:00:00+02:00</published><updated>2023-07-30T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-30:/notes/pourquoi-les-photosvideos-de-ma-fille-sont-categoriquement-interdites/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Ma femme et moi avons pris la décision d’interdire strictement la prise de photo/vidéo de notre enfant.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Prendre cette radicale décision en 2023 est incompréhensible pour l’entourage de notre fille. 🤦‍♂&lt;/p&gt;
&lt;p&gt;Cela nous coûte encore des disputes et des malentendus, pour cette raison, je vais donc expliquer dans …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Ma femme et moi avons pris la décision d’interdire strictement la prise de photo/vidéo de notre enfant.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Prendre cette radicale décision en 2023 est incompréhensible pour l’entourage de notre fille. 🤦‍♂&lt;/p&gt;
&lt;p&gt;Cela nous coûte encore des disputes et des malentendus, pour cette raison, je vais donc expliquer dans cette note pourquoi nous avons pris cette décision et pourquoi vous devriez en faire autant.&lt;/p&gt;
&lt;p&gt;&lt;img alt="No-Smartphone" class="img-fluid" src="../../assets/no-smartphone.png"/&gt;&lt;/p&gt;
&lt;h2&gt;Une décision absurde ?&lt;/h2&gt;
&lt;p&gt;Le problème quand nous avons le savoir, c’est que nous n’avons plus la possibilité d’être naïf et irresponsable.&lt;/p&gt;
&lt;p&gt;Au même titre qu’un garagiste se sent obligé de faire la vidange de votre voiture avant de vous rendre les clés, je refuse de laisser ma fille à la merci des terribles dangers invisibles de notre époque numérique. Mon bébé a la rarissime chance d’être encore totalement épargnée et cela me serait absolument insupportable de la propulser dans une situation qui ne sera prise réellement au sérieux par tout le monde que dans 10 ans, quand cela sera trop tard pour elle.&lt;/p&gt;
&lt;p&gt;J’ai pu prendre le temps d’exposer tout cela à ma femme qui adhère complètement à ma vision, mais cela demande un important effort de réflexion qu’il est difficile d’expliquer à tout le monde.&lt;/p&gt;
&lt;p&gt;Mais je vais faire simple dans mon explication et ne pas m’arrêter sur les détails technique.&lt;/p&gt;
&lt;h2&gt;Résumons le problème&lt;/h2&gt;
&lt;p&gt;Il est impossible pour quiconque de nier l’évolution technologique incroyable de notre société depuis les années 2000. L’avènement d’internet et des smartphones change complètement les règles de notre société, il faut commencer par admettre cela.&lt;/p&gt;
&lt;p&gt;Tout le monde a donc un espion dans sa poche, très mal configuré, qui viole quotidiennement votre vie privée et celle de votre entourage. Seul quelques dingo comme moi prennent réellement le temps de reconfigurer leur smartphone pour le maîtriser complètement.&lt;/p&gt;
&lt;p&gt;Les appareils photos jetables (non-connectés) n’existent plus vraiment et peu de personnes disposent d’appareil photo numérique pro. Par contre, tout le monde est prêt à dégainer son smartphone pour agresser votre innocent bébé qui n’a rien demandé, sans se rendre compte du mal fait 🙁&lt;/p&gt;
&lt;p&gt;Le cheminement technique est le suivant :&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Capture de média avec un Smartphone&lt;/strong&gt; ➡️ &lt;strong&gt;Fuite des médias sur le web pour l’éternité&lt;/strong&gt; ➡️ &lt;strong&gt;Sur-exploitation des médias à très long terme&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Je ne vais pas rentrer dans les détails, sachez juste que c’est une réalité et que tout est &lt;strong&gt;automatisé&lt;/strong&gt;. Faites un tour dans les permissions de votre Android/Iphone, analysez vos spams, faites la liste ahurissante d’infos dont disposent les géants du Web à votre sujet et celle de votre entourage. Surtout si vous êtes un naïf “kinarienakaché” 😜, les exemples sont légions.&lt;/p&gt;
&lt;p&gt;Heureusement, le sujet deviendra de plus en plus sérieux avec les mesures qui vont avec dans les années à venir. Merci à la &lt;a href="https://cnil.fr"&gt;&lt;span class="caps"&gt;CNIL&lt;/span&gt;&lt;/a&gt; et à la &lt;a href="https://www.laquadrature.net"&gt;La Quadrature du Net&lt;/a&gt; pour ça !&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Vol; Harcèlement; Discrimination; Vengeance; Escroquerie; Risque lié à la santé; Mauvaise Réputation; Chantage; Diffamation; Espionnage; Usurpation; Désinformation; Conséquences juridique; Surveillance.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Voici la liste des potentiels problèmes que ma fille n’aura, je l’espère, pas à subir plus tard grâce à ma lucidité.&lt;/p&gt;
&lt;p&gt;Si vous êtes encore septique, voici une vidéo Allemande de 2023 plutôt persuasive :&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.culturepub.fr/videos/a-message-from-ella/"&gt;&lt;img alt="A Message from Ella VOSTFR" class="img-fluid" src="https://img.youtube.com/vi/F4WZ_k0vUDM/0.jpg"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Comment pouvons-nous faire ?&lt;/h2&gt;
&lt;p&gt;En plus de sensibiliser et d’interdire, il existe des solutions techniques pour ne pas perdre en avantage, cela demande juste de la discipline.&lt;/p&gt;
&lt;p&gt;Aujourd’hui, je stocke l’intégralité des données concernant mon enfant sur mon serveur personnel et je surveille et cherche à exterminer toute fuite de données possible.&lt;/p&gt;
&lt;p&gt;Aujourd’hui, mon smartphone et celui de ma femme sont maîtrisés à fond les patates pour éviter tout risque. Nous avons également confié un troisième smartphone sécurisé à la nounou.&lt;/p&gt;
&lt;p&gt;Pour les documents et médias, nous avons notre propre instance Nextcloud grâce à l’auto-hébergement, nous avons finalement plus de confort numérique que les gens qui utilisent et paient des services non respectueux et pouvons partager un album en ligne pour les proches, etc …&lt;/p&gt;
&lt;p&gt;&lt;img alt="Nextcloud" class="img-fluid" src="../../assets/nextcloud.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;Mais même sans être informaticien, vous pouvez très bien faire les choses simplement, du papier, du matériel non connecté et une discrétion de ninja auprès des services et magasins vous garantiront le respect de la vie privée de votre famille.&lt;/p&gt;
&lt;h2&gt;Cela va beaucoup plus loin&lt;/h2&gt;
&lt;p&gt;Hélas, les parents vont forcément être la première source de fuite d’information. Même en étant très strict aujourd’hui, ma fille de 6 mois se retrouve déjà à la merci de plusieurs organismes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Services publics (obligatoires)&lt;/li&gt;
&lt;li&gt;Services mails (pour les démarches)&lt;/li&gt;
&lt;li&gt;Services de santé (“normalement” très réglementé)&lt;/li&gt;
&lt;li&gt;Pas mal de chaînes de magasin, fabricants et grossistes (par confort)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Après il faut vivre avec son temps, le but étant finalement d’ouvrir les yeux et de garder le contrôle, de faire le nécessaire pour nettoyer ses données dès que possible. De plus en plus de service payant anti data-brokers émergent pour vous protéger si vous êtes fénéant de faire le ménage vous même.&lt;/p&gt;
&lt;h2&gt;Lettre ouverte pour mes proches&lt;/h2&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Je comprends que tu puisses être surpris que je ne souhaite pas que ma petite fille soit prise en photo/vidéo. Cependant, il y a plusieurs raisons à cela.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Premièrement, en tant que parent, je souhaite protéger la vie privée de ma fille. En ces temps où la technologie est omniprésente, il est facile de diffuser des photos sans y réfléchir, mais il peut être difficile de contrôler qui a accès à ces images. Je veux m’assurer que les photos de ma fille ne sont pas utilisées à des fins malveillantes ou partagées sans mon autorisation.&lt;/li&gt;
&lt;li&gt;Deuxièmement, j’aimerais que ma fille développe une image de soi saine. Les réseaux sociaux et les médias en général peuvent créer des pressions sociales négatives, et je souhaite éviter que ma fille ne se compare à d’autres enfants en ligne. Je veux qu’elle apprenne à s’aimer pour qui elle est, sans être influencée par les images qu’elle voit en ligne.&lt;/li&gt;
&lt;li&gt;Troisièmement, je souhaite que ma fille puisse se concentrer sur l’instant présent et profiter de chaque moment sans se soucier d’être photographiée/filmée. Je veux que les moments passés avec elle soient précieux et que nous puissions nous concentrer sur notre temps ensemble, sans interruption ni distraction.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;De plus, je suis préoccupé par la façon dont les photos que nous prenons peuvent être utilisées à l’avenir. Les photos que nous partageons aujourd’hui peuvent être utilisées pour créer des profils en ligne ou pour d’autres usages auxquels nous n’avons pas consenti. En limitant la quantité de photos que nous prenons et en gardant le contrôle de ces images, je souhaite éviter que des informations sensibles sur ma fille ne soient utilisées à des fins inappropriées.&lt;/p&gt;
&lt;p&gt;Finalement, en tant que parent, je souhaite protéger la vie privée de ma fille. Nous vivons dans un monde où les données personnelles sont devenues une ressource précieuse, je veux m’assurer que ma fille a le contrôle de ses informations personnelles. Les photos que nous prenons peuvent contenir des informations sur les lieux qu’elle fréquente, les personnes avec qui elle interagit et d’autres détails sensibles. En limitant la quantité de photos que nous prenons et en gardant le contrôle de ces images, je souhaite protéger la vie privée de ma fille.&lt;/p&gt;
&lt;p&gt;Je souhaite que ma fille puisse développer sa propre identité sans être influencée par les images que nous partageons en ligne. Les photos que nous prenons peuvent donner une image déformée de qui elle est, et je souhaite qu’elle puisse se développer librement sans être limitée par l’image que nous avons créée pour elle.&lt;/p&gt;
&lt;p&gt;J’espère que tu comprends mes préoccupations et que tu respecteras ma décision de ne pas prendre de photos de ma fille, en particulier avec un smartphone. Merci de ton soutien.&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="Parentalité"></category><category term="bébé"></category><category term="enfant"></category><category term="photo"></category><category term="avenir"></category><category term="web"></category><category term="smartphone"></category><category term="vieprivée"></category><category term="nextcloud"></category><category term="dangers"></category></entry><entry><title>Clavier Hànyǔ Pīnyīn en ligne</title><link href="https://heuzef.com/notes/clavier-hanyu-pinyin-en-ligne/" rel="alternate"></link><published>2023-07-29T00:00:00+02:00</published><updated>2023-07-29T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-29:/notes/clavier-hanyu-pinyin-en-ligne/</id><summary type="html">&lt;p&gt;&lt;img alt="Pinyin" class="img-fluid" src="../../assets/pinyin.png"/&gt;&lt;/p&gt;
&lt;p&gt;Dans le cadre de mon apprentisage du Chinois Mandarin, j’ai développé un petit outil qui offre un clavier Pinyin en ligne.&lt;/p&gt;
&lt;p&gt;Les étudiants qui débutent cette langue sont rapidement initiés à ce système merveilleux et indispensable pour nous, Occidentaux.&lt;/p&gt;
&lt;p&gt;Inutile d’en dire plus, ceux qui en ont besoin …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="Pinyin" class="img-fluid" src="../../assets/pinyin.png"/&gt;&lt;/p&gt;
&lt;p&gt;Dans le cadre de mon apprentisage du Chinois Mandarin, j’ai développé un petit outil qui offre un clavier Pinyin en ligne.&lt;/p&gt;
&lt;p&gt;Les étudiants qui débutent cette langue sont rapidement initiés à ce système merveilleux et indispensable pour nous, Occidentaux.&lt;/p&gt;
&lt;p&gt;Inutile d’en dire plus, ceux qui en ont besoin vont rapidement apprécier !&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href="https://pinyin.heuzef.com"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt; https://pinyin.heuzef.com&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Et pour ceux qui souhaite récupérer le code source, pour héberger leur propre instance ou l’utiliser hors-ligne, vous pouvez récupérer ça &lt;strong&gt;&lt;a href="https://github.com/heuzef/pinyin"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt; &lt;span class="caps"&gt;ICI&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;</content><category term="Apprentissage"></category><category term="pinyin"></category><category term="chinois"></category><category term="outil"></category><category term="langue"></category></entry><entry><title>Guide 2023 du nouveau papa</title><link href="https://heuzef.com/notes/guide-2023-du-nouveau-papa/" rel="alternate"></link><published>2023-07-28T00:00:00+02:00</published><updated>2023-07-28T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-28:/notes/guide-2023-du-nouveau-papa/</id><summary type="html">&lt;p&gt;Je suis un heureux papa depuis le début de l’année 2023, comblé par l’arrivée de ma merveilleuse petite fille 👶. Comme tout nouveau papa un peu anxieux, je me suis lancé dans une quête de connaissance. J’avais d’abord prévu de partir quelques semaines voir un vieux sur …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Je suis un heureux papa depuis le début de l’année 2023, comblé par l’arrivée de ma merveilleuse petite fille 👶. Comme tout nouveau papa un peu anxieux, je me suis lancé dans une quête de connaissance. J’avais d’abord prévu de partir quelques semaines voir un vieux sur une montagne pour avoir des réponses sur le sens de la vie … mais je me suis retrouvé submergé par une multitude de blogs féministes qui débordent de conseils banals et de codes promo pour acheter toutes sortes de gadgets inutiles.&lt;/p&gt;
&lt;p&gt;Toi, futur nouveau papa, qui viens de tomber sur cette note, prends une bière et ne cherche pas plus loin la sagesse. Je vais t’éclairer avec ce mini-guide de l’année 2023.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Mother and Baby" class="img-fluid" src="../../assets/mother_baby.png"/&gt;&lt;/p&gt;
&lt;h2&gt;L’époque et la culture ⏳&lt;/h2&gt;
&lt;p&gt;Si je précise l’année 2023, c’est parce qu’avec le recul, je me rends compte que toutes les informations superflues que j’ai trouvées ont mal vieilli. Car le constat est simple : la naissance d’un bébé et la parentalité suivent toujours la même logique biologique. Il n’y aura pas de mutation soudaine qui rendra votre bébé différent des autres, idem pour les parents. Vous pouvez donc commencer par faire le tri et ne tenir compte que de tout ce qui est intemporel en ce qui concerne l’essentiel.&lt;/p&gt;
&lt;p&gt;Pour le reste, il est important de s’adapter à notre époque, mais il faut faire la part des choses et ne pas stresser si vous n’êtes pas dans une maternité de niveau 10000, si l’échographie est floue et montre des choses “bizarres” ou encore si telle marque est meilleure que telle autre, …&lt;/p&gt;
&lt;p&gt;J’ai la chance incroyable que ma fille soit métisse franco-chinoise, ce qui m’a exposé à une partie de la culture chinoise sur la naissance, pour le meilleur comme pour le pire. Le gros avantage est que j’ai pu confronter la culture française et chinoise pour ne garder que le meilleur en ce qui concerne la natalité et ainsi mettre en évidence les différences. Certaines choses recommandées et admises en France peuvent paraître aberrantes en Chine et vice-versa.&lt;/p&gt;
&lt;p&gt;Je compte conserver cette approche d’interculturalité tout au long de ma vie de père, car je suis persuadé que cela offre un précieux recul (avis partagé par certaines de mes connaissances dans le même contexte que le mien).&lt;/p&gt;
&lt;h2&gt;La base : deux bouquins 📚&lt;/h2&gt;
&lt;p&gt;Pour commencer, les bons livres ne manquent pas et vous apporteront une mine d’informations détaillées. Je vous recommande vivement un livre pour les papas et un livre pour les mamans, car l’approche psychologique et stratégique est vraiment différente :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le livre pour les papas sera généralement plus court et plus centré sur des aspects concrets.&lt;/li&gt;
&lt;li&gt;Le livre pour les mamans sera plus riche et apportera un soutien émotionnel.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les bons livres prendront le soin de bien considérer l’empathie à apporter au compagnon, c’est important.&lt;/p&gt;
&lt;p&gt;Je ne vais pas vous recommander de livre en particulier, ni vous inciter à en acheter. Vous en trouverez d’occasion à foison chez d’autres parents, dans les vide-greniers ou les bibliothèques, …&lt;/p&gt;
&lt;p&gt;Je ne m’attarderai pas non plus, sur les conseils et détails concernant la période de la grossesse jusqu’au début de l’enfance, car un livre vous apportera tout cela en plus de vous détendre et de vous permettre de passer des moments de lecture agréables avec votre douce, épuisée par son gros ventre.&lt;/p&gt;
&lt;p&gt;En complément, vous avez le service public &lt;a href="https://www.1000-premiers-jours.fr"&gt;https://www.1000-premiers-jours.fr&lt;/a&gt;, qui est adapté pour être un bon parent Français à la mode. Utile ou non, cela a le mérite d’exister.&lt;/p&gt;
&lt;p&gt;Pour la suite donc, je souhaite aborder des sujets hors contexte que ni les livres, ni la famille et les amis ne vont justement vous apporter ! 😈 Alors qu’ils sont ô combien nécessaires !&lt;/p&gt;
&lt;h2&gt;Égocentrisme 👨‍👩‍👧&lt;/h2&gt;
&lt;p&gt;Avant toute chose, je vous recommande d’être égocentrique.&lt;/p&gt;
&lt;p&gt;Faites confiance aux gens et aux professionnels qui ont largement plus d’expérience que vous… &lt;span class="caps"&gt;MAIS&lt;/span&gt; fiez-vous à votre instinct en toute circonstance. Si ce que votre médecin, nounou, sage-femme, famille, amis, pape, chien, etc … vous dit vous met dans un quelconque inconfort, alors faites à votre idée et ne vous laissez pas influencer.&lt;/p&gt;
&lt;p&gt;Vous êtes la personne responsable de la créature à naître et personne d’autre. Vous avez derrière vous des milliers d’années d’évolution biologique qui vous permettront d’être au-dessus de tout ce beau monde. Et surtout, vous n’êtes plus seul, vous êtes trois.&lt;/p&gt;
&lt;h2&gt;Le travail 👷&lt;/h2&gt;
&lt;p&gt;En France, nous avons considérablement évolué et je peux vous rassurer sur le fait que la législation est bien au point en ce qui concerne vos droits, les aides et les congés liés à votre travail. Généralement, vers le quatrième mois de grossesse, vous allez l’annoncer à vos collègues qui s’empresseront de vous faire tout un tas d’éloges, plus ou moins hypocrites.&lt;/p&gt;
&lt;p&gt;Cependant, la bureaucratie étant ce qu’elle est, il y a une évidence : votre bébé doit prendre rendez-vous pour sa naissance. C’est absurde, mais il ne sert à rien de lutter. Le plus simple est de récupérer la &lt;span class="caps"&gt;DPA&lt;/span&gt; (Date Prévue d’Accouchement). Pour cela, inutile de vous précipiter sur des applications ou autres simulateurs de &lt;span class="caps"&gt;DPA&lt;/span&gt;, le gynécologue vous donnera cela après la première échographie, une &lt;span class="caps"&gt;DPA&lt;/span&gt; qui est bien souvent précise et fiable.&lt;/p&gt;
&lt;p&gt;Une fois que vous avez votre &lt;span class="caps"&gt;DPA&lt;/span&gt;, planifiez en fonction de celle-ci pour déterminer votre emploi du temps avec vos différents congés de naissance dès que possible. Votre bébé ne sera pas encore là, mais vous allez déjà être harcelé par le travail pour la récupération de l’acte de naissance. Vous pouvez dès à présent leur annoncer qu’il leur sera envoyé à &lt;span class="caps"&gt;DPA&lt;/span&gt; + 1 semaine. Cela permettra de “régulariser” votre planning des congés, c’est une façon polie de dire que votre bébé est à la bourre et que cela enquiquine la compta. Mais à ce stade, la bonne nouvelle est que vous vous en ficherez totalement, car vous serez bien assez occupé avec des choses qui ont du sens. Néanmoins, prévoyez-vous une petite pause après la naissance pour leur envoyer l’acte et souffler un peu au passage.&lt;/p&gt;
&lt;h2&gt;L’administration ✍️&lt;/h2&gt;
&lt;p&gt;Alors là, c’est la foire à la paperasse et personne n’en parle ! Heureusement, les naissances sont des situations courantes et les procédures sont bien maîtrisées.&lt;/p&gt;
&lt;p&gt;Le problème aussi, c’est que cela évolue, donc je ne trouve pas très pertinent de vous faire une liste comme on en trouve partout.&lt;/p&gt;
&lt;p&gt;J’ai mieux, j’ai trouvé sur le site du gouvernement un parcours de naissance complet, clair et exhaustif !&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.mesdroitssociaux.gouv.fr/vos-evenements-de-vie/parcours-naissance"&gt;https://www.mesdroitssociaux.gouv.fr/vos-evenements-de-vie/parcours-naissance&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ce site reprend le parcours complet avant et après la naissance, mois par mois. C’est top pour ne rien oublier, avec cela vous êtes au point !&lt;/p&gt;
&lt;h2&gt;Le fric 💶&lt;/h2&gt;
&lt;p&gt;Pour rester zen, prévoyez environ 3000 € de dépenses jusqu’au premier anniversaire de votre enfant.&lt;/p&gt;
&lt;p&gt;N’espérez pas y échapper, donc autant commencer à mettre de côté ! 😁&lt;/p&gt;
&lt;h2&gt;La journalisation quotidienne 📝&lt;/h2&gt;
&lt;p&gt;Un point très agaçant et surprenant, car je n’ai eu aucune information à ce sujet en amont et personne ne m’en a parlé. Grande source de stress pour nous à l’arrivée du bébé : le suivi &lt;strong&gt;ultra-précis&lt;/strong&gt; du bébé qui nous tombe dessus comme ça, quelques heures après la naissance. Nous avions subi la pression des sages-femmes pour noter absolument toute notre vie privée et celle du bébé, en passant par l’heure à laquelle elle commence à prendre le sein, la quantité de lait consommée, la couleur des selles, combien de minutes le bébé a dormi, etc …&lt;/p&gt;
&lt;p&gt;C’est peut-être un délire lié à notre époque, mais avec le recul, je trouve que c’était, certes, utile, mais beaucoup trop. Nous avons d’ailleurs arrêté après le premier mois, car c’était vraiment très fastidieux et source de conflits.&lt;/p&gt;
&lt;p&gt;Cependant, pour faire face à la situation, la maternité nous fournit un papier avec un tableau banal à remplir, qui arrive très vite à ses limites …&lt;/p&gt;
&lt;p&gt;Je me suis rapidement tourné vers une feuille blanche, puis j’ai finalement commencé à chercher des outils pour nous en sortir.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Du côté des applications mobiles, cela ne manque pas, mais je ne les recommande pas du tout. C’est superflu, pas adapté à la situation et agressif pour la vie privée. Cela offre néanmoins un confort intéressant (par exemple pour lancer le chronomètre intégré à l’application et définir rapidement quel sein a été donné).&lt;/li&gt;
&lt;li&gt;Du côté de la papeterie, vous trouverez tout un tas de carnets et livres “Daily log”, mais je ne les recommande pas non plus, sauf si vous prévoyez de vous infliger un intense “Log Life” pendant plus d’un mois …&lt;/li&gt;
&lt;li&gt;Des modèles de documents A4 à imprimer, une feuille par jour, c’est finalement le meilleur compromis que nous ayons trouvé. Cela met les parents d’accord, c’est simple et ne requiert qu’un crayon et une pochette (les feuilles vont rapidement se perdre et se salir sinon).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Concernant ce dernier point donc, trouver des modèles est facile, mais par contre, trouver des bons modèles qui vous conviennent est vraiment difficile. Le mieux que je puisse vous conseiller est de prendre le temps de créer votre propre fiche.&lt;/p&gt;
&lt;p&gt;Je vous partage cependant celle que j’ai faite pour ma fille. Cliquez sur l’image pour télécharger les fichiers sources (&lt;span class="caps"&gt;PDF&lt;/span&gt;, &lt;span class="caps"&gt;SVG&lt;/span&gt;). Vous pouvez personnaliser cette dernière avec le logiciel libre &lt;a href="https://inkscape.org/fr/"&gt;Inkscape&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="../../assets/baby_daily_logs.zip"&gt;&lt;img alt="Baby daily log - Download" class="img-fluid" src="../../assets/baby_daily_logs.jpg"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Une autre astuce, évitez d’imprimer en recto-verso, car mon petit encart de notes en bas à droite est petit et avoir le dos de la page vierge peut être utile 😉&lt;/p&gt;
&lt;h2&gt;Les visites agaçante 🤡&lt;/h2&gt;
&lt;p&gt;Sur ce point, je vais faire simple : &lt;strong&gt;n’autorisez aucune visite à la maternité&lt;/strong&gt;, ou vous allez le regretter. Ceux qui ont déjà eu des enfants savent, mais la tentation est forte.&lt;/p&gt;
&lt;p&gt;Gardez ce moment très intense émotionnellement pour vous trois uniquement. Vous aurez tout le temps plus tard pour les autres à la maison.&lt;/p&gt;
&lt;p&gt;Mais ce qu’on ne nous dit pas, par contre, ce sont les filous de commerciaux en blouse blanche ! Je balance ! C’est honteux de profiter de la situation, à peine 48 heures après la naissance, nous avions déjà un défilé de glandu pour nous vendre des gadgets et services qu’il est difficile de refuser avec l’euphorie du moment.&lt;/p&gt;
&lt;p&gt;En particulier, la photographe qui s’empresse de vous faire signer un contrat douteux (mais lisez-le sérieusement !). Vous n’oseriez tout de même pas vous priver de la fameuse séance photo, n’est-ce pas ? Et bien si ! Dégagez-moi tous ces ardélions de la chambre et prévoyez simplement un appareil photo dans votre sac si vous tenez à la photo souvenir.&lt;/p&gt;
&lt;p&gt;L’avantage, c’est qu’il leur est impossible d’insister après un simple &lt;em&gt;“Nous ne sommes pas intéressés et souhaitons rester tranquilles”&lt;/em&gt;. Cela doit devenir un réflexe tant que vous êtes à la maternité.&lt;/p&gt;
&lt;p&gt;À l’inverse cependant, les sages-femmes passeront en moyenne toutes les 90 minutes vous déranger et vous allez trouver que ce n’est pas assez ! Heureusement, il y a un bouton rouge pour les appeler 🚨 Ouf !&lt;/p&gt;
&lt;h2&gt;Pharmacie 🌡&lt;/h2&gt;
&lt;p&gt;À la naissance, je me suis découvert une passion pour les pharmacies. D’abord parce qu’il n’est pas possible d’anticiper un tas de choses avant la naissance, qui sont systématiquement &lt;em&gt;“urgentes”&lt;/em&gt;, car le petit bébé est fragile et nécessite que vous vous surpassiez la première semaine.&lt;/p&gt;
&lt;p&gt;Les sorties à la pharmacie sont donc fréquentes et surtout plaisantes. Dans mon cas, cela me permettait de “fuir” la maternité pour me consacrer à quelque chose “d’utile”, tandis que la maman pouvait alors gérer bébé à sa façon tranquillement.&lt;/p&gt;
&lt;p&gt;Assurez-vous de bien vous entendre avec votre pharmacien et de lui annoncer la &lt;span class="caps"&gt;DPA&lt;/span&gt; ! Dans mon cas, après m’être disputé avec une pharmacie médiocre, je n’ai pas hésité à me rendre dans une autre qui, elle, est excellente. Je peux d’ailleur leur envoyer la paperasse par email, c’est très pratique pour la suite.&lt;/p&gt;
&lt;h2&gt;Les cadeaux 🎁&lt;/h2&gt;
&lt;p&gt;Vous allez très probablement recevoir tout un tas de cadeaux de naissance. Pour notre part, nous avions opté pour une politique simple : nous ne voulions que des consommables (couches, cosmétiques, aliments, …). C’est une idée brillante, car en plus d’être sûr de faire plaisir, cela permet d’alléger le budget de dépenses, ce qui permet alors d’acheter les accessoires que vous souhaitez vraiment (et surtout que vous souhaiterez).&lt;/p&gt;
&lt;p&gt;Cependant, c’est peine perdue ! Les gens bug sur cette simple instruction 😖. Nous nous sommes retrouvés avec un carton entier de doudous, une tonne de vêtements à la mauvaise taille et tout un tas de jouets en plastique … ✌️&lt;/p&gt;
&lt;p&gt;Cela vaut également si vous demandez des cadeaux faits-main, qui nécessitent beaucoup plus d’efforts et d’investissement que de sortir la carte bancaire. Les gens vont simplement avoir la flemme et vous acheter le premier truc sans intérêt qu’ils jugent utile pour vous.&lt;/p&gt;
&lt;p&gt;Quelle que soit votre politique, communiquez et imposez votre liste de naissance ! Sinon, ne faites rien et acceptez que vous allez recevoir tout un tas de machins inutiles avec seulement quelques rare cadeaux vraiment plaisants de la part de vos proches. Sinon, vous avez aussi l’option moins élégante de demander du pognon.&lt;/p&gt;
&lt;h2&gt;La garde de l’enfant 🍼&lt;/h2&gt;
&lt;p&gt;Prévoyez des plans solides de garde pour votre enfant, cela n’apportera que du bon pour votre famille naissante.&lt;/p&gt;
&lt;p&gt;Attention cependant, la réalité n’est pas rose, car aujourd’hui, il vous faut inscrire votre enfant à la crèche, trouver une nounou, etc … bien avant le début de la grossesse si vous souhaitez espérer en profiter à temps 😜&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Anticipez à fond sur ce point !&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Conclusion 📝&lt;/h2&gt;
&lt;p&gt;Dans cette note, je vous ai partagé mon expérience personnelle de jeune papa en exposant uniquement les points intéressants à mon sens, qui ont la particularité de ne jamais être abordés habituellement.&lt;/p&gt;
&lt;p&gt;Je vous souhaite de bien vous amuser dans la grande aventure de la parentalité. La mienne ne fait que commencer et il y aura assurément tout un tas d’autres notes à venir dans cette catégorie sur mon blog !&lt;/p&gt;</content><category term="Parentalité"></category><category term="bébé"></category><category term="astuce"></category><category term="maternité"></category><category term="ressources"></category><category term="emploi"></category></entry><entry><title>Lancement de mon blog</title><link href="https://heuzef.com/notes/lancement-de-mon-blog/" rel="alternate"></link><published>2023-07-27T00:00:00+02:00</published><updated>2023-07-27T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-27:/notes/lancement-de-mon-blog/</id><summary type="html">&lt;p&gt;Suite à une bouillante réflexion, j’ai finalement pris la décision brillante d’exploiter mon site pour y partager toutes mes expériences excentriques.
J’ai bon espoir que les plus audacieux d’entre vous seront ravis de découvrir toutes les informations et astuces que je partage ici à la sueur …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Suite à une bouillante réflexion, j’ai finalement pris la décision brillante d’exploiter mon site pour y partager toutes mes expériences excentriques.
J’ai bon espoir que les plus audacieux d’entre vous seront ravis de découvrir toutes les informations et astuces que je partage ici à la sueur de mon front 😁&lt;/p&gt;
&lt;h2&gt;Pourquoi et pour quoi ?&lt;/h2&gt;
&lt;p&gt;Transformer mon site, qui, jusqu’à présent, assurait la simple fonction de “point d’accueil de mon nom de domaine parce qu’il en faut bien un” en quelque chose de plus pertinent.&lt;/p&gt;
&lt;p&gt;Écrire mes expériences de vie, apportera, je l’espère, plusieurs avantages. Les passionnés comme moi ont tous secrètement cette envie de partage, mais c’est autre chose de se lancer.&lt;/p&gt;
&lt;p&gt;Sur ce blog, pas de thème précis, j’aborderais tout sujet et thématique selon mon humeur délirante du moment, sous la seule condition que le contenu sera en mesure de créer une frénésie de passion sans précédent auprès d’une foule en délire qui ne manquera pas de s’abonner au &lt;a href="https://heuzef.com/feeds/all.atom.xml"&gt;Flux &lt;span class="caps"&gt;RSS&lt;/span&gt; &lt;i class="fa fa-rss"&gt;&lt;/i&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Salut Pelican&lt;/h2&gt;
&lt;p&gt;C’est donc naturellement que je vais commencer à vous parler du choix de l’outil que j’utilise pour me lancer dans cette aventure : &lt;a href="https://getpelican.com"&gt;Pelican&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Pelican" class="img-fluid" src="../../assets/pelican.png"/&gt;&lt;/p&gt;
&lt;p&gt;Cet outil est absolument parfait pour les dingos exigeants comme moi, ce moteur Python ultra léger permet de générer un site statique à partir de vos fichiers Markdown ou reStructuredText.&lt;/p&gt;
&lt;p&gt;Aucune base de données ni moteur web requis, il suffit de lancer la moulinette et Pelican va vous recracher fissa un site web statique complet (&lt;span class="caps"&gt;HTML&lt;/span&gt;, &lt;span class="caps"&gt;CSS&lt;/span&gt;, &lt;span class="caps"&gt;JS&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Cette note est la première que je fais suite à une installation et configuration de mon instance Pelican et c’est clairement très efficace, car l’outil n’en reste pas moins puissant et offre un large choix de fonction (Gestion de thème, extenssion, Flux &lt;span class="caps"&gt;RSS&lt;/span&gt;, publications multi-langue, etc … ), et surtout tout est à plât et versionné sur mon &lt;a href="https://github.com/heuzef/heuzef_com"&gt;git&lt;/a&gt;, et la personnalisation est possible sans contrainte.&lt;/p&gt;
&lt;p&gt;C’est auto-hébergeable, libre et documenté, bref rien à redire, c’est le pied, fait tourner c’est de la bonne.&lt;/p&gt;
&lt;p&gt;Merci à mon tout-puissant Sensei &lt;a href="https://xieme-art.org"&gt;Ephase&lt;/a&gt; pour m’avoir inspiré et aidé à découvrir cet outil 😎&lt;/p&gt;
&lt;h2&gt;Faire connaissance avec le piaf&lt;/h2&gt;
&lt;p&gt;Une fois votre serveur web prêt, il vous faudra installer quelques nécessités : Python avec virtualenv, pip et make.&lt;/p&gt;
&lt;p&gt;Pour les modules pip, voici une liste de quelques dépendances que j’utilise : &lt;a href="https://github.com/heuzef/heuzef_com/blob/master/requirements.txt"&gt;&lt;i class="fa fa-file"&gt;&lt;/i&gt; requirements.txt&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Installation et configuration&lt;/h3&gt;
&lt;p&gt;Allons-y Alonso ! ✊&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Activation du virtualenv Python&lt;/span&gt;
virtualenv&lt;span class="w"&gt; &lt;/span&gt;~/virtualenvs/pelican
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/virtualenvs/pelican
&lt;span class="nb"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;bin/activate

&lt;span class="c1"&gt;# Installation de Pelican dans votre dossier d'hébergement web&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/var/www/html/
pip3&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puis il suffit de se laisser guider pour la configuration :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pelican-quickstart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vient alors le choix du thème (j’ai personnellement opté pour &lt;a href="https://github.com/nairobilug/pelican-alchemy"&gt;Pelican-Alchemy ✨&lt;/a&gt; pour le moment) et des extensions.
Puis finalement, il faut passer du temps à personnaliser les fichiers de configuration &lt;strong&gt;.py&lt;/strong&gt;, ajouter votre contenu dans le dossier &lt;strong&gt;content&lt;/strong&gt; et faire pointer votre serveur web sur le dossier &lt;strong&gt;output&lt;/strong&gt; qui contient votre site statique généré.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/
├──&lt;span class="w"&gt; &lt;/span&gt;content
│&lt;span class="w"&gt;   &lt;/span&gt;└──&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;pages&lt;span class="o"&gt;)&lt;/span&gt;
├──&lt;span class="w"&gt; &lt;/span&gt;output
├──&lt;span class="w"&gt; &lt;/span&gt;tasks.py
├──&lt;span class="w"&gt; &lt;/span&gt;Makefile
├──&lt;span class="w"&gt; &lt;/span&gt;pelicanconf.py&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;# Main settings file&lt;/span&gt;
└──&lt;span class="w"&gt; &lt;/span&gt;publishconf.py&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;# Settings to use when ready to publish&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Exemple d’utilisation&lt;/h3&gt;
&lt;p&gt;Pour exemple, voici à quoi ressemble le fichier Markdown de cet article :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;Title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Lancement&lt;/span&gt; &lt;span class="n"&gt;de&lt;/span&gt; &lt;span class="n"&gt;mon&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt;
&lt;span class="nf"&gt;Cover&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;assets&lt;/span&gt;/&lt;span class="n"&gt;bg_pelican&lt;/span&gt;.&lt;span class="n"&gt;jpg&lt;/span&gt;
&lt;span class="nf"&gt;Category&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Informatique&lt;/span&gt;
&lt;span class="nf"&gt;Tags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;autoh&lt;/span&gt;é&lt;span class="n"&gt;bergement&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;web&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt;
&lt;span class="nf"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;2023-08-01 0:00
&lt;span class="nf"&gt;Status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;published&lt;/span&gt;

&lt;span class="err"&gt;Blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;...&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;et&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;ils&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;trépignèrent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;à&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;la&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;lecture&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;de&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;cette&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;note&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;...&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Un pti coup de moulinette :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make&lt;span class="w"&gt; &lt;/span&gt;publish
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et vouualaaa ! 👌&lt;/p&gt;
&lt;p&gt;Vous avez les bases, la &lt;a href="https://docs.getpelican.com"&gt;documentation&lt;/a&gt; de Pelican vous permettra d’aller plus loin ensuite.&lt;/p&gt;
&lt;p&gt;À bientôt pour de nouvelles aventures !&lt;/p&gt;</content><category term="Informatique"></category><category term="pelican"></category><category term="python"></category><category term="autohébergement"></category><category term="web"></category><category term="blog"></category></entry></feed>