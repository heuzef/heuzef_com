<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Heuze Florent - Informatique</title><link href="https://heuzef.com/" rel="alternate"></link><link href="https://heuzef.com/feeds/informatique.atom.xml" rel="self"></link><id>https://heuzef.com/</id><updated>2024-05-05T00:00:00+02:00</updated><subtitle>
Les notes excentriques d'un bidouilleur.
</subtitle><entry><title>Diffuser Ã©lÃ©gamment durant vosÂ visio-confÃ©rences</title><link href="https://heuzef.com/notes/diffuser-elegamment-durant-vos-visio-conferences/" rel="alternate"></link><published>2024-05-05T00:00:00+02:00</published><updated>2024-05-05T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2024-05-05:/notes/diffuser-elegamment-durant-vos-visio-conferences/</id><summary type="html">&lt;p&gt;La visio est pour beaucoup de monde aujourdâ€™hui un acte quotidien, que vous soyez un professionnel de la tech ouÂ non.&lt;/p&gt;
&lt;p&gt;Si vous faites partie de ces gens qui visiote, qui teams, qui zoom, qui meets et autre termes Ã  la mode pour ne simplement pas dire participer Ã  â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;La visio est pour beaucoup de monde aujourdâ€™hui un acte quotidien, que vous soyez un professionnel de la tech ouÂ non.&lt;/p&gt;
&lt;p&gt;Si vous faites partie de ces gens qui visiote, qui teams, qui zoom, qui meets et autre termes Ã  la mode pour ne simplement pas dire participer Ã  une vidÃ©o-confÃ©rence, je vous recommande de vous intÃ©resser Ã  lâ€™utilisation dâ€™un outil aussi simple quâ€™efficace, jâ€™ai nommÃ© &lt;a href="https://obsproject.com/fr/"&gt;&lt;span class="caps"&gt;OBS&lt;/span&gt; Studio&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="obs_studio" class="img-fluid" src="../../assets/obs-overlay.webp"/&gt;&lt;/p&gt;
&lt;h1&gt;Quâ€™est-ce que &lt;span class="caps"&gt;OBS&lt;/span&gt; Studio et pourquoi câ€™est utile ?Â ğŸ¥&lt;/h1&gt;
&lt;p&gt;&lt;span class="caps"&gt;OBS&lt;/span&gt; Studio est un outil trÃ¨s utilisÃ© par les vidÃ©astes, en particulier sur Twitch ou Youtube dans le domaine du Jeux-VidÃ©o (Letâ€™sÂ play).&lt;/p&gt;
&lt;p&gt;Ce dernier vous permet dâ€™avoir un contrÃ´le complet de ce que vous diffusez avec votre webcam, plus que simplement votre tÃªte avec un filtre automatique en toutÂ cas.&lt;/p&gt;
&lt;p&gt;Il est trÃ¨s intÃ©ressant pour les raisons suivantesÂ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Il permet de crÃ©er une â€œwebcam virtuelleâ€ personnalisable Ã Â souhait&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est facile Ã  prendre enÂ main&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il estÂ gratuit&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il estÂ libre&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est openÂ source&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il est multi-&lt;span class="caps"&gt;OS&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Difficile dâ€™en demander plus ! DÃ©diez votre prochain dimanche pluvieux pour dÃ©couvrir tranquillement ce logiciel, croyez-moi vous aller vous amuser et cela sera trÃ¨s utile pour vous pour laÂ suite.&lt;/p&gt;
&lt;p&gt;Dans cet article, je ne vais pas faire un tuto, car pour Ã§a, je vous invite Ã  chercher sur Youtube, les vidÃ©os trÃ¨s complÃ¨tes des derniÃ¨res versions ne manques pas, ici le but est seulement de vous convaincre de franchir leÂ pas.&lt;/p&gt;
&lt;h1&gt;Le fonctionnement (dans les grandes lignes)Â âš™ï¸&lt;/h1&gt;
&lt;p&gt;&lt;img alt="obs_studio" class="img-fluid" src="../../assets/obsstudio.png"/&gt;&lt;/p&gt;
&lt;p&gt;Au lancement, &lt;span class="caps"&gt;OBS&lt;/span&gt; Studio vous affichera une interface de gestion qui comprend 3 grandesÂ catÃ©gories.&lt;/p&gt;
&lt;h2&gt;LesÂ contrÃ´les&lt;/h2&gt;
&lt;p&gt;La zone de contrÃ´le vous permet de lancer un enregistrement, dÃ©marrer votre camÃ©ra virtuelle pour lâ€™exploiter via un autre logiciel (de visio par exemple ğŸ˜‰) ou encore de dÃ©marrer une diffusion (si vous connectez un service tiers tel que Youtube, Twitch,Â â€¦).&lt;/p&gt;
&lt;h2&gt;LesÂ scÃ¨nes&lt;/h2&gt;
&lt;p&gt;Câ€™est une fonction trÃ¨s pratique de &lt;span class="caps"&gt;OBS&lt;/span&gt; Studio qui vous permet de crÃ©er plusieurs â€œenvironnementsâ€ de diffusion selon laÂ situation.&lt;/p&gt;
&lt;p&gt;Votre scÃ¨ne par dÃ©faut peut simplement afficher votre tÃªte, mais vous pourriez crÃ©er une scÃ¨ne dÃ©diÃ©e Ã  votre partage dâ€™Ã©cran par exemple. La bascule entre les scÃ¨nes se fait unÂ clic.&lt;/p&gt;
&lt;p&gt;Dans mon cas pratique, jâ€™ai crÃ©Ã© une scÃ¨ne â€œattenteâ€ qui affiche une vidÃ©o Youtube lorsque je dois mâ€™absenter durant la visio, une autre qui affiche ma tÃªte en plus de mon partage dâ€™Ã©cran. Une autre encore qui me permet de partager 4 fenÃªtres en mÃªme temps ou mÃªme 4 webcams Ã  la fois â€¦ Pas de limite de scÃ¨ne, câ€™est selon votreÂ imagination.&lt;/p&gt;
&lt;h2&gt;LesÂ sources&lt;/h2&gt;
&lt;p&gt;Les sources sont simplement les entitÃ©s que vous souhaitez ajouter dans votre diffusionÂ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Webcams&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Images&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VidÃ©o&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Texte&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Logiciel&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Audio (micro, lecteur musique,Â â€¦)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;â€¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vous importez tous les Ã©lÃ©ments que vous souhaitez dans votre scÃ¨ne pour les placer dansÂ lâ€™interface.&lt;/p&gt;
&lt;p&gt;Câ€™est trÃ¨s intuitif et vous nâ€™aurez aucun mal Ã  crÃ©er une diffusion super cool qui vousÂ ressemble.&lt;/p&gt;
&lt;p&gt;VoilÃ , si vous avez compris Ã§a, vous avez compris le plus important. Il est possible dâ€™aller plus loin, en modifiant les sources dynamiquement avec des effets (correction de couleurs, redimensionnement, etcÂ â€¦).&lt;/p&gt;
&lt;p&gt;Et pour les plus nerds, il est mÃªme possible dâ€™aller jusquâ€™Ã  contrÃ´ler &lt;span class="caps"&gt;OBS&lt;/span&gt; via de la Computer VisionÂ ğŸ¤–.&lt;/p&gt;
&lt;h1&gt;Essayez !Â ğŸ‘Œ&lt;/h1&gt;
&lt;p&gt;Jâ€™espÃ¨re que cette prÃ©sentation vous donnera envie de personnaliser votre diffusion pour vous rendre un peu plus coquet dans vos rÃ©unionsÂ ğŸŒ¸&lt;/p&gt;
&lt;p&gt;Sans aller jusquâ€™Ã  mettre en place des Overlays impressionnants comme les vidÃ©astes pro, il y a une dimension vraiment utile pour maÃ®triser ce que vous diffusez lors dâ€™uneÂ visio.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/results?search_query=OBS+Studio+fr"&gt;Amusez-vous bienÂ !&lt;/a&gt;&lt;/p&gt;</content><category term="Informatique"></category><category term="web"></category><category term="social"></category><category term="twitch"></category><category term="youtube"></category><category term="facebook"></category><category term="live"></category><category term="visio"></category><category term="webcam"></category></entry><entry><title>Mettre en service sa propre instance de Matrix avecÂ Bridges</title><link href="https://heuzef.com/notes/mettre-en-service-sa-propre-instance-de-matrix-avec-bridges/" rel="alternate"></link><published>2024-04-08T00:00:00+02:00</published><updated>2024-04-08T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2024-04-08:/notes/mettre-en-service-sa-propre-instance-de-matrix-avec-bridges/</id><summary type="html">&lt;p&gt;Pour ceux qui ne connaissent pas Matrix, je le prÃ©sente succinctement ainsi : câ€™est un outil messagerie moderne, qui est supÃ©rieure techniquement Ã  toutes les autres solutions Ã©quivalentes (Instagram, WhatsApp, Messenger, Signal, WeChat, Telegram, Discord, etcÂ â€¦). &lt;/p&gt;
&lt;p&gt;Mais ce nâ€™est pas tout, en plus dâ€™Ãªtre trÃ¨s sÃ©curisÃ©, câ€™est â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Pour ceux qui ne connaissent pas Matrix, je le prÃ©sente succinctement ainsi : câ€™est un outil messagerie moderne, qui est supÃ©rieure techniquement Ã  toutes les autres solutions Ã©quivalentes (Instagram, WhatsApp, Messenger, Signal, WeChat, Telegram, Discord, etcÂ â€¦). &lt;/p&gt;
&lt;p&gt;Mais ce nâ€™est pas tout, en plus dâ€™Ãªtre trÃ¨s sÃ©curisÃ©, câ€™est aussi une solution libre, Ã©thique et dÃ©centralisÃ©e et en constante Ã©volution grÃ¢ce Ã  une large communautÃ© trÃ¨s impliquÃ©e dans cette solution de messagerie ultime enÂ auto-hÃ©bergement.&lt;/p&gt;
&lt;p&gt;Il nâ€™y a donc absolument aucun argument en faveur des autres plateformes (mÃªme pour Signal et RocketChat oui oui) et dans un monde idÃ©al lâ€™humanitÃ© entiÃ¨re utiliserais Matrix comme solution unique deÂ communication.&lt;/p&gt;
&lt;p&gt;Jâ€™ajoute que tout bon dirigeant dâ€™entreprise qui utilise une solution de tchat en interne devrait dÃ©ployer Matrix pour sa sociÃ©tÃ©, tout autre choix sera finalement moins pertinent, voir dangereux. Le monopÃ´le de Microsoft avec Teams nâ€™est dâ€™ailleurs pas un frein, car il est tout Ã  fait possible dâ€™intÃ©grer des solutions de Visio comme &lt;a href="https://meet.jit.si"&gt;Jitsi&lt;/a&gt; dans lâ€™instance Matrix. Et une fois que nous avons goÃ»tÃ© Ã  lâ€™outil, nous sommes rapidementÂ convaincus.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Messenger FR" class="img-fluid" src="../../assets/messenger_fr.png"/&gt;&lt;/p&gt;
&lt;p&gt;Maintenant que les prÃ©sentations sont faites, je vais expliquer dans cette note comment dÃ©ployer simplement une instance avec Docker et surtout avec desÂ Bridges.&lt;/p&gt;
&lt;p&gt;Je prÃ©cise que cette note est co-rÃ©digÃ©e avec &lt;a href="https://www.linkedin.com/in/lucasassier"&gt;Lucas Assier&lt;/a&gt;, qui Ã  Ã©galement une expÃ©rience intÃ©rÃ©ssente avec Matrix de son cÃ´tÃ©Â !&lt;/p&gt;
&lt;p&gt;Avant de dÃ©buter lâ€™aventure, &lt;a href="https://app.element.io/#/register"&gt;commencez par crÃ©er un compte Matrix&lt;/a&gt;. RÃ©server votre identifiant et profitez-en pour tester Matrix sur les serveursÂ dâ€™Ã‰lement.&lt;/p&gt;
&lt;h1&gt;Qui utilise Matrix en 2024 ?Â ğŸ—£&lt;/h1&gt;
&lt;p&gt;Quasiment personne, comme beaucoup dâ€™outils libre, pas de gros marketing derriÃ¨re. MÃªme &lt;a href="https://www.signal.org"&gt;Signal&lt;/a&gt;, qui met pourtant les moyens, peine Ã  concurrencer ses concurrents qui sont pourtant pas terribles, alors autant dire que Matrix nâ€™est pas prÃªt de percer, mais patience, car contrairement aux autres, Matrix est pÃ©renne dans le temps et sera lÃ  encore bien aprÃ¨s eux (lâ€™e-mail, xmpp et irc enÂ tÃ©moignent).&lt;/p&gt;
&lt;p&gt;Finalement, les seuls qui ont un intÃ©rÃªt Ã  dÃ©ployer Matrix, sont les entreprises, associations et organisations qui souhaitent disposer dâ€™un outil de communication en interne. Pour les autres, on y retrouvera majoritairement des Geek qui ont la chance dâ€™avoir les ressources et le temps pour maintenir cetÂ outil.&lt;/p&gt;
&lt;h1&gt;Les Bridges !Â ğŸ—&lt;/h1&gt;
&lt;p&gt;En plus de pouvoir &lt;a href="https://matrix.org/ecosystem/clients/"&gt;choisir nâ€™importe quel client&lt;/a&gt; (ce qui est dÃ©jÃ  gÃ©nial), Matrix a une fonction vraiment top : &lt;strong&gt;Les bridges&lt;/strong&gt;Â !&lt;/p&gt;
&lt;p&gt;Elle vous promet de rÃ©cupÃ©rer vos messages des autres plateformes dans votre instance MatrixÂ !&lt;/p&gt;
&lt;p&gt;&lt;a href="https://matrix.org/ecosystem/bridges"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt;Â matrix.org/ecosystem/bridges&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Il faut comprendre que les Bridges sont additionnels et heureusement, car il y a baleine sous gravillon, explication dans le chapitreÂ suivant.&lt;/p&gt;
&lt;h1&gt;Le piÃ¨ge des BridgesÂ ğŸš§&lt;/h1&gt;
&lt;p&gt;AprÃ¨s plusieurs mois dâ€™utilisation des Bridges, je vais Ãªtre honnÃªte, câ€™est un calvaire et la maintenance est chronophage au possible. Les Bridges sont essentiellement des prototypes et plus nous en ajoutons plus câ€™est le chaos : la maintenance nâ€™en devient que plusÂ lourde.&lt;/p&gt;
&lt;p&gt;Chaque Bridge Ã  son lot de galÃ¨re, câ€™est sans fin, &lt;strong&gt;il faut donc Ãªtre dÃ©terminÃ© Ã  y consacrer beaucoup de tempsÂ !&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Autrement, la meilleure alternative que je connaisse est &lt;a href="https://ems.element.io/element-one"&gt;Element-&lt;span class="caps"&gt;ONE&lt;/span&gt;&lt;/a&gt;, payant et avec seulement trois Bridges, mais câ€™est un dÃ©butÂ ğŸ˜‰&lt;/p&gt;
&lt;h1&gt;DÃ©ploiement basique avec DockerÂ ğŸ³&lt;/h1&gt;
&lt;p&gt;Si vous Ãªtes Ã  lâ€™aise avec Docker, alors la configuration suivante vous permettra de mettre en place votre instance Matrix. Pour les plus barbus, vous pouvez aussi &lt;a href="https://github.com/spantaleev/matrix-docker-ansible-deploy"&gt;jouer avec Ansible&lt;/a&gt;Â ğŸ¤“&lt;/p&gt;
&lt;p&gt;La configuration gÃ©nÃ©rale ici est donc dâ€™installer le moteur Synapse avec sa &lt;span class="caps"&gt;DB&lt;/span&gt; Postgres. Avec seulement ceci, vous pourrez bÃ©nÃ©ficier dâ€™une instance Matrix qui tourne trÃ¨sÂ bien.&lt;/p&gt;
&lt;p&gt;Pour tout le reste, ce sont les Bridges, que vous pouvez simplement commenter pour ne pas les dÃ©ployer dans un premier temps, (ou jamais ?Â ğŸ˜¤)&lt;/p&gt;
&lt;h2&gt;Docker composeÂ file&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;'3'&lt;/span&gt;

&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Synapse&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;synapse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrixdotorg/synapse:latest&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-synapse&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-synapse&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;SYNAPSE_CONFIG_PATH=/data/homeserver.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/Synapse:/data&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges:/bridges&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/test:/var/log&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8448:8448/tcp&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8008:8008/tcp&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;matrix-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;postgres&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_USER=synapse&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_PASSWORD=**********&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRESQL_PASSWORD=**********&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_DB=matrix&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/Postgres:/var/lib/postgresql/data&lt;/span&gt;

&lt;span class="c1"&gt;# BRIDGES CONTAINERS ##########&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Signal bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/signal&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/signald:/signald&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29328:29328/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signal-db&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;signald&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/signald/signald&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/signald:/signald&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;signal-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;postgres&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signal-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signal-db&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_USER=mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_DATABASE=mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_PASSWORD=**********&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/signal/Postgres:/var/lib/postgresql/data&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Discord bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-discord&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/discord&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-discord&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-discord&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/discord/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29334:29334/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Whatsapp bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-whatsapp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/whatsapp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-whatsapp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-whatsapp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/bridges/whatsapp/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29318:29318/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Facebook bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-facebook&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/facebook&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-facebook&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-facebook&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/facebook/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29319:29319/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Instagram bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-instagram&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/instagram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-instragram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-instagram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/instagram/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29330:29330/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Telegram bridge&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;mautrix-telegram&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/telegram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-telegram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-telegram&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/telegram/data:/data&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29317:29317/tcp&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="c1"&gt;# Slack bridge&lt;/span&gt;
&lt;span class="nt"&gt;mautrix-slack&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/slack&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-slack&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-slack&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/matrix/bridges/slack/data:/data&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;29335:29335/tcp&lt;/span&gt;
&lt;span class="w w-Error"&gt; &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="c1"&gt;# Wechat bridge &lt;/span&gt;
&lt;span class="nt"&gt;matrix-wechat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;lxduo/matrix-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/heuzef/matrix/bridges/wechat/data:/data&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;17778:17778/tcp&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;

&lt;span class="c1"&gt;# Wechat agent&lt;/span&gt;
&lt;span class="nt"&gt;agent-wechat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;lxduo/matrix-wechat-docker&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;agent-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;agent-wechat&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;WECHAT_HOST=wss://matrix-wechat/_wechat/&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;WECHAT_SECRET=00000000000&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/heuzef/matrix/bridges/wechat/hongli/:/home/user/matrix-wechat-agent&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix-wechat&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Configuration deÂ Synapse&lt;/h2&gt;
&lt;p&gt;GÃ©nÃ©rer le fichier de config SynapseÂ : &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker run -it --rm -v /home/matrix/Synapse/:/data -e SYNAPSE_SERVER_NAME=matrix.domain.tld -e SYNAPSE_REPORT_STATS=no matrixdotorg/synapse:latest generate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce fichier de configuration sera gÃ©nÃ©rÃ© dans  &lt;strong&gt;/home/matrix/Synapse/homeserver.yaml&lt;/strong&gt;, plutÃ´t simple Ã  comprendre, voici quelques paramÃ¨tres Ã  modifier selon vos besoinsÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;max_upload_size&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;100M&lt;/span&gt;
&lt;span class="nt"&gt;enable_registration&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="nt"&gt;enable_registration_without_verification&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="nt"&gt;app_service_config_files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/discord/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/facebook/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/instagram/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/signal/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/slack/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/telegram/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/wechat/data/registration.yaml&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bridges/whatsapp/data/registration.yaml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chaque fichier de configuration des bridges est similaire, les paramÃ¨tres rÃ©currents Ã  modifier sont les suivantsÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;homeserver&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;address&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;https://matrix.domain.tld&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;domain&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;matrix.domain.tld&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;address&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://&amp;lt;hostname&amp;gt;:&amp;lt;port&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;0.0.0.0&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;lt;port&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;database&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;sqlite3&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;uri&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;lt;bridge&amp;gt;-db.sqlite&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;permissions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s"&gt;"*"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;relay&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s"&gt;"matrix.domain.tld"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;user&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s"&gt;"@votre-pseudo:matrix.domain.tld"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;admin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, vous pouvez dÃ©marrer toute la tambouille : &lt;code&gt;docker compose -f /home/matrix/docker-compose.yml up&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Le premier lancement prend du temps, les fichiers de configuration et de &lt;strong&gt;registration.yaml&lt;/strong&gt; doivent Ãªtre gÃ©nÃ©rÃ©s par Synapse (nâ€™anticipez pas leur crÃ©ation), confirmant que tout fonctionne correctement, ensuite, vous pouvez Ã©diter lesÂ paramÃ¨tres.&lt;/p&gt;
&lt;p&gt;Vous aurez probablement une erreur de permission sur ces fichiers au lancement, ajustez simplement cela ainsiÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;644&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/home/matrix/bridges/*/data/registration.yaml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;VisioconfÃ©rence&lt;/h2&gt;
&lt;p&gt;Si vous souhaitez utiliser la visioconfÃ©rence, notez bien que cette derniÃ¨re ne fonctionnera quâ€™en local sur votre rÃ©seau interne. Pour aller plus loin et profiter pleinement des fonctionnalitÃ©s de la visioconfÃ©rence, il vous faudra mettre en service un serveur &lt;span class="caps"&gt;TURN&lt;/span&gt; : &lt;a href="https://matrix-org.github.io/synapse/latest/turn-howto.html"&gt;Configuring a Turn Server -Â Synapse&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Mon retour dâ€™expÃ©rience sur les diffÃ©rents BridgesÂ ğŸ“¢&lt;/h1&gt;
&lt;p&gt;Vous remarquerez que la plupart des Bridges sont dÃ©ployÃ©es via &lt;a href="https://docs.mau.fi/bridges/general/docker-setup.html?bridge=telegram&amp;amp;ref=infos.zogg.fr"&gt;&lt;span class="caps"&gt;MAUTRIX&lt;/span&gt;&lt;/a&gt;. Ce nâ€™est pas pour rien, car la plus grande panoplie est Ã©ditÃ©e par eux et ce sont aussi bien souvent les bridges les plusÂ stables.&lt;/p&gt;
&lt;p&gt;Pour rappel &lt;a href="https://matrix.org/ecosystem/bridges/"&gt;la liste des Bridges est diffusÃ©e sur le site officiel de Matrix&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;De faÃ§on gÃ©nÃ©rale, la logique dâ€™ajout dâ€™un bridge est toujours la mÃªmeÂ :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ExÃ©cution duÂ bridge&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Depuis votre client Matrix prÃ©fÃ©rÃ©, rechercher le bot du bridge pour commencer une discussion avecÂ lui&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dans le canal de discussion avec le bot taper &lt;code&gt;help&lt;/code&gt; pour afficher les actionsÂ possibles&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Signal&lt;/h2&gt;
&lt;p&gt;Le Bridge de Signal est un peu lourd Ã  mettre en place, car il rÃ©clame une &lt;span class="caps"&gt;DB&lt;/span&gt; Ã  part (ce que je vous conseille vivement de faire pour lesÂ performances).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;InviterÂ @signalbot&lt;/li&gt;
&lt;li&gt;Enregistrez votre tÃ©lÃ©phone &lt;code&gt;register +33000000000&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RÃ©cupÃ©rer un jeton captcha sur le site dÃ©diÃ© deÂ signal&lt;/li&gt;
&lt;li&gt;https://signalcaptchas.org/registration/generate.html&lt;/li&gt;
&lt;li&gt;RÃ©cupÃ©rer le token situÃ© juste aprÃ¨s le &lt;strong&gt;signalcaptcha://signal-recaptcha-v2.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Valider le code &lt;span class="caps"&gt;SMS&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;DÃ©finir son nom : &lt;code&gt;set-profile-name VOTRE-NOM&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Discord&lt;/h2&gt;
&lt;p&gt;Pour Discord, la premiÃ¨re initialisation ne permet que de jongler avec les messageries privÃ©es, vous aurez ensuite besoin de jouer avec les commandes du bridges pour rejoindre les diffÃ©rents canaux (plus communÃ©ment appelÃ©es â€œServeurs Discordâ€ par les Moldus) via leur identifiantÂ unique.&lt;/p&gt;
&lt;p&gt;Ensuite, câ€™est le gros dawa, si vous invitez une guilde assez grosse, vous allez vous retrouver avec autant de notification dâ€™invitation Ã  accepter que de catÃ©gories ! Bon une fois que câ€™est validÃ©, vous Ãªtes tranquille, mais faite trÃ¨s attention aux journaux qui vont Ãªtre gÃ©nÃ©rÃ©s sur votre serveur, Ã§a va trÃ¨s rapidement remplir lâ€™espace disque sâ€™il y a de lâ€™activitÃ© sur vos canaux DiscordÂ !&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;InviterÂ @discordbot&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sur lâ€™application mobile : &lt;em&gt;paramÃ¨tres de lâ€™app &amp;gt; â€œScanner le &lt;span class="caps"&gt;QR&lt;/span&gt;Â codeâ€&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Envoyer la commande au bot : &lt;code&gt;login-qr&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La commande &lt;code&gt;guilds status&lt;/code&gt; permet dâ€™afficher les diffÃ©rents â€œServeursÂ Discordâ€&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;WhatsApp&lt;/h2&gt;
&lt;p&gt;Alors WhatsApp, pour faire simple, dispose dâ€™une sÃ©curitÃ© trÃ¨s dÃ©sagrÃ©able qui consiste Ã  dÃ©connecter tous vos accÃ¨s tiers aprÃ¨s une semaine, superÂ â€¦&lt;/p&gt;
&lt;p&gt;Cela concerne donc Ã©galement votre Bridge quâ€™il vous faudra reconnecter avec un QRCode toute les semaines. Donc nous sommes bien forcÃ© de conserver lâ€™application officiel sur notre tel uniquement pour Ã§a â€¦ voila voila â€¦Â ğŸ‘Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;InviterÂ @whatsappbot&lt;/li&gt;
&lt;li&gt;Sur lâ€™application mobile : &lt;em&gt;paramÃ¨tres de lâ€™app &amp;gt; â€œScanner le &lt;span class="caps"&gt;QR&lt;/span&gt; &lt;span class="caps"&gt;QR&lt;/span&gt;â€&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Envoyer la commande au bot : &lt;code&gt;login&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Facebook etÂ Instagram&lt;/h2&gt;
&lt;p&gt;Dans le mÃªme type de flood absurde que Discord, vous allez recevoir une notification dâ€™invitation Ã  accepter pour chaque personne â€¦ Jâ€™espÃ¨re pour vous que vous Ãªtes un asocial avec peu dâ€™amis sur ces plateformes, sinon vous aller user votre souris Ã  accepter des centaines dâ€™invitations une par une.
Un conseil, tester bien vos volumes docker, le redÃ©marrage du Bridge Ã  tendance Ã  tout remettre Ã  zÃ©ro, histoire de vous pousser au suicide une bonne fois pour toutesÂ ğŸ˜–&lt;/p&gt;
&lt;h2&gt;Telegram&lt;/h2&gt;
&lt;p&gt;Un peu plus long Ã  mettre en place, le bot Ã©tant encore en prototype au moment de mon test, mais ensuite, cela fonctionneÂ correctement.&lt;/p&gt;
&lt;p&gt;Sur la configuration, il est nÃ©cessaire dâ€™ajouter une clef dâ€™&lt;span class="caps"&gt;API&lt;/span&gt; rÃ©cupÃ©rable sur :Â https://my.telegram.org/apps&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;App api_id: 00000000
App api_hash: 00000000000000000000000000000000 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;InviterÂ @telegrambot&lt;/li&gt;
&lt;li&gt;Sur lâ€™application mobile : &lt;em&gt;paramÃ¨tres de lâ€™app &amp;gt; â€œScanner le code &lt;span class="caps"&gt;QR&lt;/span&gt;â€&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Envoyer la commande au bot : &lt;code&gt;login-qr&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;WeChat&lt;/h2&gt;
&lt;p&gt;La palme dâ€™or de la torture revient Ã  nos amis Chinois avec leur outilÂ abominable.&lt;/p&gt;
&lt;p&gt;CrÃ©Ã© par un nerd Chinois rÃ©pondant au nom de &lt;a href="https://github.com/duo/matrix-wechat-docker"&gt;lxduo&lt;/a&gt;, ce dernier (probablement considÃ©rÃ© par un terroriste par le gouvernement chinois), a eu la patience de mettre au monde un Bridge capable de sâ€™accoupler avec cette horreur deÂ WeChat.&lt;/p&gt;
&lt;p&gt;Ce qui donne naissance Ã  une terrible usine Ã  Gaz qui vous servira dâ€™hÃ´te, qui vous faudra accompagner dâ€™autant dâ€™usines Ã  gaz supplÃ©mentaire que vous souhaitez ajouter de compte WeChat â€¦ Le gros dÃ©lire en termes de consommation de ressourceÂ ğŸ˜­.&lt;/p&gt;
&lt;p&gt;Bon dans mon cas &lt;a href="https://github.com/duo/matrix-wechat-docker/issues/2"&gt;je nâ€™ai mÃªme pas rÃ©ussi Ã  le faire tomber en marche&lt;/a&gt; et Ã  vrai dire, jâ€™ai sÃ»rement Ã©tÃ© banni de lâ€™outil par le gouvernement car impossible de me crÃ©er un compte, jâ€™ai donc renoncÃ©.
Je prÃ©vois un voyage en Chine en 2024, je vais en profiter pour me crÃ©er un compte en catimini avec un numÃ©ro sur place, je ferais peut-Ãªtre un article Ã  ce sujet un jour si câ€™estÂ croustillant.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;InviterÂ @wechatbot&lt;/li&gt;
&lt;li&gt;Sur lâ€™application mobile : &lt;em&gt;paramÃ¨tres de lâ€™app &amp;gt; â€œScanner le code &lt;span class="caps"&gt;QR&lt;/span&gt;â€&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Envoyer la commande au bot : &lt;code&gt;login&lt;/code&gt; pour tenter de dÃ©tecter lâ€™agentÂ WeChat&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;span class="caps"&gt;SMS&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;En bonus, jâ€™ai tentÃ© lâ€™utilisation de &lt;a href="https://f-droid.org/en/packages/eu.droogers.smsmatrix/"&gt;SmsMatrix&lt;/a&gt;, une application Android qui peut fonctionner avec un Bridge, jâ€™ai fait fonctionner le machin ainsiÂ :&lt;/p&gt;
&lt;p&gt;Sâ€™authentifier sur le compte &lt;strong&gt;@smsbot:matrix.domain.tld&lt;/strong&gt; et inviter son compte utilisateur pour crÃ©er un canal de discussion.
AprÃ¨s autorisation, installer SmsMatrix sur votre tÃ©lÃ©phoneÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Bot&lt;/span&gt; &lt;span class="n"&gt;Username&lt;/span&gt; : &lt;span class="n"&gt;smsbot&lt;/span&gt;
&lt;span class="n"&gt;Bot&lt;/span&gt; &lt;span class="n"&gt;Password&lt;/span&gt; : **********
&lt;span class="n"&gt;Homeserver&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt; : &lt;span class="n"&gt;https:&lt;/span&gt;//&lt;span class="n"&gt;matrix&lt;/span&gt;.&lt;span class="n"&gt;domain&lt;/span&gt;.&lt;span class="n"&gt;tld&lt;/span&gt;
&lt;span class="n"&gt;Your&lt;/span&gt; &lt;span class="n"&gt;username&lt;/span&gt; @&lt;span class="s"&gt;&amp;lt;USER&amp;gt;&lt;/span&gt;:&lt;span class="n"&gt;matrix&lt;/span&gt;.&lt;span class="n"&gt;com&lt;/span&gt;
&lt;span class="n"&gt;Devicename&lt;/span&gt; : &lt;span class="s"&gt;&amp;lt;NOM-DU-TEL&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il suffit ensuite de recevoir un &lt;span class="caps"&gt;SMS&lt;/span&gt; pour initialiser uneÂ conversation.&lt;/p&gt;
&lt;h1&gt;ConclusionÂ ğŸ—’&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Matrix, câ€™est le top du top de la messagerie. Tant sur lâ€™aspect techniqueÂ quâ€™Ã©thique.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Peu de personne connaissent et nâ€™utilisent Ã§a dans le monde pro et encore moinsÂ ailleurs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La configuration dâ€™un serveur &lt;span class="caps"&gt;TURN&lt;/span&gt; supplÃ©mentaire est nÃ©cessaire si vous souhaitez profiter de laÂ VisioconfÃ©rence.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La configuration des Bridges est trÃ¨s chronophage etÂ instable.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Câ€™est tout pour moi ğŸ˜‰ je vous relais maintenant les notes de mon ami &lt;a href="https://www.linkedin.com/in/lucasassier"&gt;Lucas Assier&lt;/a&gt;, qui souhaite Ã©galement partager son expÃ©rience avec Matrix.
Sans aller aussi loin que moi sur la quantitÃ© de Bridge testÃ©s, il a cependant abordÃ© le Double Puppetting, trÃ¨s intÃ©ressant pour profiter pleinement desÂ Bridges.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Lâ€™article ci-dessous, rÃ©digÃ© par &lt;a href="https://www.linkedin.com/in/lucasassier"&gt;Lucas Assier&lt;/a&gt;, date de SeptembreÂ 2023.&lt;/p&gt;
&lt;hr/&gt;
&lt;h1&gt;PourquoiÂ Matrix&lt;/h1&gt;
&lt;p&gt;Ã€ cela plusieurs raisons et cas dâ€™usagesÂ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;En premier, les communications sont chiffrÃ©es, dans la mesure du possible, par design, ce qui permet de discuter avec des amis de sujets sensibles sans avoir Ã  se soucier de voir nos communications et piÃ¨ces jointes sur un &lt;span class="caps"&gt;CDN&lt;/span&gt; random (Nâ€™est-ce pas DiscordÂ ?).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En second, le systÃ¨me de fÃ©dÃ©ration : un utilisateur dâ€™un serveur peut communiquer sur un serveur diffÃ©rent de maniÃ¨re transparente. Jâ€™ai pu voir cela lâ€™an dernier sur lâ€™instance de visioconfÃ©rence de la Fosdem qui nâ€™est autre quâ€™une instance Matrix avec un pluginÂ jitsi&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Le systÃ¨me de bridges : Le protocole de serveur Matrix a Ã©tÃ© pensÃ© pour inclure un systÃ¨me de â€œpasserellesâ€ permettant de lier un service quelconque a Matrix. Câ€™est notamment ce systÃ¨me qui mâ€™a poussÃ© Ã  passer le pas et Ã  dÃ©ployer ma propre instanceÂ Matrix.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Terminologie&lt;/h1&gt;
&lt;h2&gt;Provider&lt;/h2&gt;
&lt;p&gt;Matrix, câ€™est un peu comme le systÃ¨me de mails, il faut un fournisseur ou &lt;strong&gt;provider&lt;/strong&gt; pour pouvoir communiquer. Pour cela, un &lt;strong&gt;homeserver&lt;/strong&gt; va leur donner un compte, exempleÂ :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 1" class="img-fluid" src="../../assets/matrix_exemple_1.png"/&gt;&lt;/p&gt;
&lt;h2&gt;Homeserver&lt;/h2&gt;
&lt;p&gt;Un &lt;strong&gt;homeserver&lt;/strong&gt; est un serveur Matrix (Synapse, Conduit, etcÂ â€¦).&lt;/p&gt;
&lt;p&gt;Il est liÃ© a un seul domaine qui nâ€™est pas vouÃ© a changer.
Les comptes gÃ©nÃ©rÃ©s via les &lt;strong&gt;homeserver&lt;/strong&gt; sont en deux parties comme suitÂ :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@user@homeserver.tld&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Pour reprendre lâ€™exemple ci-dessus, cela donneraitÂ :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 2" class="img-fluid" src="../../assets/matrix_exemple_2.png"/&gt;&lt;/p&gt;
&lt;h2&gt;AppService&lt;/h2&gt;
&lt;p&gt;Câ€™est ce que lâ€™on peut comparer Ã  un bot standard.
Les AppServices doivent Ãªtre enregistrÃ©s dans la configuration du serveur, il nâ€™est pas possible de les enregistrer Ã  laÂ volÃ©e.&lt;/p&gt;
&lt;h2&gt;Bridges&lt;/h2&gt;
&lt;p&gt;Un bridge est un systÃ¨me permettant de connecter un groupement Matrix Ã  une autre plateforme, par exemple, Slack ou encoreÂ Signal.&lt;/p&gt;
&lt;p&gt;Les bridges fonctionnent de deux maniÃ¨resÂ :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Dans Matrix, les utilisateurs des autres plateformes sont vus en tant que â€œ&lt;em&gt;ghost&lt;/em&gt;â€œ.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dans lâ€™autre plateforme, les comptes utilisateurs de Matrix sont appelÃ©s des â€œ&lt;em&gt;puppets&lt;/em&gt;â€œ.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ExempleÂ :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 3" class="img-fluid" src="../../assets/matrix_exemple_3.png"/&gt;&lt;/p&gt;
&lt;p&gt;Les spÃ©cifications Matrix sont complexe mais entiÃ¨rement documentÃ©es &lt;a href="https://spec.matrix.org/latest/"&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Choisir sonÂ serveur&lt;/h1&gt;
&lt;p&gt;Aujourdâ€™hui, Matrix possÃ¨de plusieurs implÃ©mentations serveurs plus ou moins aboutis.
Il y en a trois qui en ont retenu mon attentionÂ :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Synapse&lt;/strong&gt; - la rÃ©fÃ©rence originale en python. Câ€™est le seul projet de serveur marquÃ© commeÂ stable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Conduit&lt;/strong&gt; - une implÃ©mentation en &lt;em&gt;&lt;span class="caps"&gt;RUST&lt;/span&gt;&lt;/em&gt; du protocole serveur de Matrix mais avec une empreinte mÃ©moire plusÂ faible.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Dendrite&lt;/strong&gt; - la mÃªme volontÃ© que Conduit, mais en &lt;em&gt;&lt;span class="caps"&gt;GO&lt;/span&gt;&lt;/em&gt;. Certaines fonctions sont manquantes, la prioritÃ© Ã©tant lâ€™implÃ©mentation des fonctions pour les instances singleÂ user.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Monter sonÂ homeserver&lt;/h1&gt;
&lt;h2&gt;PrÃ©parations&lt;/h2&gt;
&lt;p&gt;Pour des raisons pratiques, nous allons assumer que le serveur retenu est Synapse (car officiel et implÃ©mente lâ€™intÃ©gralitÃ© des fonctionnalitÃ©s).
En premier lieu, il faut rÃ©flÃ©chir Ã  un nom de domaine, câ€™est trÃ¨s important car il est
impossible de le changer une fois le serveurÂ installÃ©.&lt;/p&gt;
&lt;p&gt;Ensuite, il y a plusieurs maniÃ¨res dâ€™installer un serveur SynapseÂ :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Via un packageÂ manager&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ViaÂ Ansible&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ViaÂ Docker&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ici, nous verrons viaÂ Docker.&lt;/p&gt;
&lt;h2&gt;La stack technique de laÂ dÃ©mo&lt;/h2&gt;
&lt;h3&gt;UnÂ reverse-proxy&lt;/h3&gt;
&lt;p&gt;Initialement, le projet est dÃ©ployÃ© dans une colocation de homelabs derriÃ¨re un seul et mÃªmeÂ port.&lt;/p&gt;
&lt;p&gt;Par consÃ©quent, nous passons par Caddy afin de faire le routage enÂ reverse-proxy.&lt;/p&gt;
&lt;p&gt;Cela, peut-Ãªtre contraignant, mais il est quand mÃªme nÃ©cessaire dâ€™en avoir un avec Synapse, notamment quand on va vouloir faire de laÂ dÃ©lÃ©gation.&lt;/p&gt;
&lt;h3&gt;Une instanceÂ Docker&lt;/h3&gt;
&lt;p&gt;Pour hÃ©berger le serveur ainsi que les bridges, le serveur et les bridges seront en deux stacks Docker-composeÂ sÃ©parÃ©s.&lt;/p&gt;
&lt;h2&gt;DÃ©ployer le serveurÂ Synapse&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;'3'&lt;/span&gt;
&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;synapse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/matrixdotorg/synapse:latest&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;SYNAPSE_CONFIG_PATH=/data/homeserver.yaml&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-data:/data&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-db&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8448:8448/tcp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Federation Traffic&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;8008:8008/tcp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Client Traffic&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;default&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;bridgenet&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;synapse-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-pgsql&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/postgres:12-alpine&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_USER=synapse&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_PASSWORD=changeme!&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_DB=synapse&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-pgsql:/var/lib/postgresql/data&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;synapse-data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;synapse-pgsql&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;bridgenet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse_bridges&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span class="nt"&gt;external&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Ã€ noter, nous avons un rÃ©seau Docker dÃ©diÃ© a lâ€™intercommunication entre Synapse et les Bridges installÃ©s comme suitÂ :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker network create synapse_bridges&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;En premier lieu, il faudra lancer Synapse pour lui dire de gÃ©nÃ©rer la configurationÂ :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker-compose run --rm -e SYNAPSE_SERVER_NAME=matrix.kestrel.ovh -e
SYNAPSE_REPORT_STATS=no synapse generate&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;En suivant, il faudra Ã©diter la configuration &lt;code&gt;homeserver.yaml&lt;/code&gt; dans le volumeÂ synapse-data. &lt;/p&gt;
&lt;p&gt;Il sera important de regarder les options de configuration, notamment la configuration de la connexion Ã  la base Postgres, le nom du serveur (&lt;em&gt;server name&lt;/em&gt;), que les serveurs de clÃ©s de confiance ainsi que lâ€™option pour autoriser la crÃ©ation de comptes ouÂ non. &lt;/p&gt;
&lt;p&gt;Une fois cela fait, nous pouvons dÃ©marrer la stack via &lt;code&gt;docker compose up&lt;/code&gt;. &lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;On pourrait faire en background mais comme nous en sommes Ã  la phase de lancement initiale, je prÃ©fÃ¨re laisser en premier plan afin de voir si lâ€™application lance des erreurs ouÂ non.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Configurer le reverse proxy et setup uneÂ dÃ©lÃ©gation&lt;/h2&gt;
&lt;p&gt;Par dÃ©lÃ©gation, nous sous-entendons relayer le trafic Matrix a une entitÃ© dans un sous-domaine ouÂ ailleurs.&lt;/p&gt;
&lt;p&gt;Ici, mon server name est &lt;code&gt;kestrel.ovh&lt;/code&gt;, pour autant, le trafic est dÃ©lÃ©guÃ©s vers &lt;code&gt;matrix.kestrel.ovh&lt;/code&gt; via la configuration suivanteÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;kes&lt;/span&gt;&lt;span class="kc"&gt;trel&lt;/span&gt;&lt;span class="err"&gt;.ovh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â header&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;/.well&lt;/span&gt;&lt;span class="mi"&gt;-&lt;/span&gt;&lt;span class="err"&gt;k&lt;/span&gt;&lt;span class="kc"&gt;n&lt;/span&gt;&lt;span class="err"&gt;ow&lt;/span&gt;&lt;span class="kc"&gt;n&lt;/span&gt;&lt;span class="err"&gt;/ma&lt;/span&gt;&lt;span class="kc"&gt;tr&lt;/span&gt;&lt;span class="err"&gt;ix/* Content-Type application/json&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â header /.well-known/matrix/* Access-Control-Allow-Origin *&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â respond /.well-known/matrix/server `{"m.server":&lt;/span&gt;
&lt;span class="err"&gt;"matrix.kestrel.ovh:443"}`&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â respond /.well-known/matrix/client `{"m.homeserver":&lt;/span&gt;
&lt;span class="err"&gt;{"base_url":"https://matrix.kestrel.ovh"}}`&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;span class="err"&gt;matrix.kestrel.ovh {&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â reverse_proxy /_matrix/* 192.168.1.102:8008&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â Â Â Â reverse_proxy /_synapse/client/* 192.168.1.102:8008&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il existe &lt;a href="https://matrix-org.github.io/synapse/latest/reverse_proxy.html"&gt;une documentation&lt;/a&gt; sur la configuration de divers reverse-proxy pour Matrix, avec ou sans dÃ©lÃ©gation.
Pour tester si la configuration est correcte, on peut utiliser &lt;a href="https://federationtester.matrix.org"&gt;le testeur de fÃ©dÃ©ration&lt;/a&gt; et voir si le trafic de fÃ©dÃ©ration est &lt;span class="caps"&gt;OK&lt;/span&gt;.&lt;/p&gt;
&lt;h2&gt;CrÃ©er desÂ comptes&lt;/h2&gt;
&lt;p&gt;Pour crÃ©er des comptes, il est possible de passer via une interface cliente Matrix tel que &lt;a href="https://app.element.io/#/register"&gt;Element&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pour les serveurs qui nâ€™acceptent pas la crÃ©ation de comptes, il est possible de le faire via le conteneur Synapse via la commande suivanteÂ :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker exec -it synapse register_new_matrix_user http://localhost:8008 -c
/data/homeserver.yaml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Synapse demandera quelques questions puis crÃ©era lesÂ comptes.&lt;/p&gt;
&lt;p&gt;Personnellement, jâ€™ai optÃ© pour un compte admin dont je ne me sers uniquement pour lâ€™administration du serveur ainsi quâ€™un utilisateur standard pour mon usageÂ quotidien.&lt;/p&gt;
&lt;p&gt;Ã€ ce stade, nous avons une instance Matrix fonctionnelle, avec un compte. Nous pouvons donc nous pencher sur lâ€™ajout de BridgesÂ !&lt;/p&gt;
&lt;h1&gt;Ajouter unÂ Bridge&lt;/h1&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Le dÃ©ploiement dâ€™un Bridge peut Ãªtre long et fastidieux, par consÃ©quent, nous ne verrons que pour le BridgeÂ Mautrix-signald&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Docker Compose 2: ElectricÂ Boogaloo&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"3.7"&lt;/span&gt;

&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;dock.mau.dev/mautrix/signal&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-data:/data&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-signald:/signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;default&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;bridgenet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Communication w/ Synapse&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;signald&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;docker.io/signald/signald&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-signald:/signald&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mau-signal-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mau-signal-db&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;postgres:13-alpine&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;POSTGRES_USER&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;POSTGRES_DATABASE&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrixsignal&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;POSTGRES_PASSWORD&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;changeme!&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;mautrix-signal-db:/var/lib/postgresql/data&lt;/span&gt;

&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal-data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal-signald&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;mautrix-signal-db&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;

&lt;span class="nt"&gt;networks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;bridgenet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse_bridges&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;external&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ici, pas Ã©normÃ©ment de choses Ã  dire, on lance la &lt;span class="caps"&gt;DB&lt;/span&gt;, puis signald (en vÃ©rifiant que cela ne crash pas). Ensuite, on lance le Bridge qui crÃ©e un fichier deÂ configuration.&lt;/p&gt;
&lt;p&gt;Il faudra remplir le fichier avec les informations commeÂ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lâ€™adresse du serveurÂ Synapse&lt;/li&gt;
&lt;li&gt;Lâ€™adresse du conteneur du bridge (Pour que Synapse relaie nosÂ messages)&lt;/li&gt;
&lt;li&gt;DÃ©sactiver leÂ manhole&lt;/li&gt;
&lt;li&gt;RÃ©gler lesÂ permissions&lt;/li&gt;
&lt;li&gt;Connecter la baseÂ postgres&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Enregistrer une AppService dansÂ Synapse&lt;/h2&gt;
&lt;p&gt;Une fois cela fait, on relance le conteneur. Si tout est correct, celui-ci va gÃ©nÃ©rer un fichier &lt;code&gt;appservice.yaml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Il faudra le copier dans le volume du conteneur synapse et le rÃ©fÃ©rencer comme suit dans la configuration &lt;code&gt;homeserver.yaml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# NB: Il est pas necessaire de faire de sous-dossiers appservices mais c'est&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;plus sympa.&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;app_service_config_files&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/data/appservices/mau-signal.yaml&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/data/appservices/mau-instagram.yaml&lt;/span&gt;
&lt;span class="err"&gt;Â Â Â Â &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/data/appservices/mau-slack.yaml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois ceci fait, relancer Synapse ainsi que le Bridge. Si tout fonctionne, le doit Ãªtre joignable via message privÃ© Ã  lâ€™adresse &lt;strong&gt;@signalbot:homeserver.tld&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Se connecter Ã Â Signal&lt;/h2&gt;
&lt;p&gt;Pour se connecter Ã  Signal, il faudra ouvrir un canal avec le bot, puis choisir une des deux options possiblesÂ :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;**link**Â [device name] - Link the bridge as a secondary device&lt;/code&gt;
&lt;code&gt;**register**Â &amp;lt;phone&amp;gt; - Sign into Signal as the primary device&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Malheureusement, jâ€™ai eu une erreur quand jâ€™ai voulu â€œregisterâ€â€ donc je suis passÃ© via â€œlinkâ€, le bot fournit un &lt;span class="caps"&gt;QR&lt;/span&gt; Code permettant deÂ sâ€™authentifier.&lt;/p&gt;
&lt;p&gt;Une fois lâ€™authentification effectuÃ©e, vous recevrez tout un tas dâ€™invitations de messages privÃ©s et deÂ canaux. &lt;/p&gt;
&lt;p&gt;Ceux-ci sont gÃ©rÃ©s via le bot et font le lien avec toutes les conversations prÃ©sentes surÂ Signal.&lt;/p&gt;
&lt;p&gt;Par exemple, ici, un canal avec des amisÂ :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 4" class="img-fluid" src="../../assets/matrix_exemple_4.png"/&gt;&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Ã€ noter, le bot est prÃ©sent dans chaque room afin de faire le lien. Il est possible de lui parler directement via &lt;code&gt;!signal&lt;/code&gt; ou via &lt;span class="caps"&gt;MP&lt;/span&gt;.
En gris, tous les utilisateurs ayant le tag &lt;code&gt;(signal)&lt;/code&gt; sont des â€œ&lt;strong&gt;ghosts&lt;/strong&gt;â€ contrÃ´lÃ©s par leÂ bot.&lt;/p&gt;
&lt;p&gt;Il est bon de noter aussi que nous ne sommes pas administrateur du canal mais que les admins du groupe Signal le sont par extension sur ce canalÂ Matrix.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Le DoubleÂ Puppetting&lt;/h2&gt;
&lt;p&gt;Sur la capture dâ€™Ã©cran prÃ©cÃ©dente, nous avons pu voir que je possÃ¨de deux comptes, un compte Matrix et un compteÂ Signal.&lt;/p&gt;
&lt;p&gt;On pourrait dire que lâ€™on sâ€™en fiche dans certains cas mais cela pose problÃ¨me lorsque les gens veulent meÂ mentionner. &lt;/p&gt;
&lt;p&gt;Exemple iciÂ :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 5" class="img-fluid" src="../../assets/matrix_exemple_5.png"/&gt;&lt;/p&gt;
&lt;p&gt;Ici on me mentionne pour un Ã©vÃ©nement. ProblÃ¨me, le Bridge mentionne mon compte Signal et non moi-mÃªme.
Pour palier Ã  cela, les dÃ©veloppeurs ont ajoutÃ© une fonction permettant de remplacer le compte de la plateforme en question (Ici, &lt;em&gt;Lucas(Signal)&lt;/em&gt; ) par mon propre compteÂ Matrix.&lt;/p&gt;
&lt;p&gt;Pour ce faire, il est possible de passer par deux maniÃ¨res de faireÂ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A la main via des â€œaccess tokens (Ã  coup de &lt;code&gt;curl&lt;/code&gt; puis via des &lt;span class="caps"&gt;MP&lt;/span&gt; aux diffÃ©rents bots deÂ Bridge).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Automatiquement via &lt;a href="https://github.com/devture/matrix-synapse-shared-secret-auth"&gt;ce plugin&lt;/a&gt;. Pour des raisons Ã©videntes, nous allons passer par leÂ plugin.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Installer le module Shared SecretÂ Authenticator&lt;/h3&gt;
&lt;p&gt;Pour installer le module, il faudra cloner depuis le dÃ©pÃ´t &lt;span class="caps"&gt;GIT&lt;/span&gt;, le fichier python, puis lâ€™ajouter aux volumes du conteneurÂ synapse.&lt;/p&gt;
&lt;p&gt;Cloner le dÃ©pÃ´t : &lt;code&gt;git clone https://github.com/devture/matrix-synapse-shared-secret-auth&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Puis lâ€™ajouter en tant que volumeÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p p-Indicator"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;...&lt;/span&gt;&lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;synapse-data:/data&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/opt/matrix-synapse-shared-secret-auth/shared_secret_authenticator.py:/usr/local/lib/python3.11/site-packages/shared_secret_authenticator.py&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GÃ©nÃ©rer un secret : &lt;code&gt;pwgen -s 128 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Puis, dans le fichier &lt;code&gt;homeserver.yaml&lt;/code&gt;, saisir les informations recensÃ©es dans le &lt;span class="caps"&gt;GIT&lt;/span&gt; croisÃ©es avec &lt;a href="https://docs.mau.fi/bridges/general/double-puppeting.html"&gt;la documentation de Mautrix&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;modules&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;module&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;shared_secret_authenticator.SharedSecretAuthProvider&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;config&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;shared_secret&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"YOUR_SHARED_SECRET_GOES_HERE"&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;m_login_password_support_enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nt"&gt;com_devture_shared_secret_auth_support_enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois cela fait et le conteneur Synapse relancÃ©, dans la configuration du Bridge Signal, remplacerÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;double_puppet_server_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;example.com&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;https://example.com&lt;/span&gt;
&lt;span class="w w-Error"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;login_shared_secret_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;example.com&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;double_puppet_server_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;kestrel.ovh&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://synapse:8008&lt;/span&gt;
&lt;span class="w w-Error"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;login_shared_secret_map&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nt"&gt;kestrel.ovh&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;YOUR_SHARED_SECRET_GOES_HERE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci fait, relancer le conteneur Signal.
Si cela fonctionne correctement, le compte en trop doit disparaÃ®tre et les mentions envers ce compte sont maintenant redirigÃ©es vers lâ€™utilisateur MatrixÂ correct.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix Exemple 6" class="img-fluid" src="../../assets/matrix_exemple_6.png"/&gt;&lt;/p&gt;</content><category term="Informatique"></category><category term="autohÃ©bergement"></category><category term="web"></category><category term="social"></category><category term="docker"></category><category term="tchat"></category><category term="communication"></category></entry><entry><title>GÃ©nÃ©rer ses diagrammes avecÂ Python</title><link href="https://heuzef.com/notes/generer-ses-diagrammes-avec-python/" rel="alternate"></link><published>2023-08-23T00:00:00+02:00</published><updated>2023-08-23T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-08-23:/notes/generer-ses-diagrammes-avec-python/</id><summary type="html">&lt;p&gt;Dans cet article, nous allons nous initier au &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; afin de rÃ©aliser de magnifiques schÃ©mas enÂ Python.&lt;/p&gt;
&lt;p&gt;Aujourdâ€™hui, il est assez tentant de sâ€™orienter vers des solutions comme Draw.io pour rÃ©aliser des schÃ©mas visuellement agrÃ©able, mais lâ€™outil en lui-mÃªme ne me convient pas, car je ne â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Dans cet article, nous allons nous initier au &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; afin de rÃ©aliser de magnifiques schÃ©mas enÂ Python.&lt;/p&gt;
&lt;p&gt;Aujourdâ€™hui, il est assez tentant de sâ€™orienter vers des solutions comme Draw.io pour rÃ©aliser des schÃ©mas visuellement agrÃ©able, mais lâ€™outil en lui-mÃªme ne me convient pas, car je ne le trouve pas assez flexible. Je souhaite utiliser un outil libre sans restriction et qui permet de gÃ©nÃ©rer confortablement (voir automatiquement) des beaux schÃ©mas que je peux exporter en &lt;span class="caps"&gt;SVG&lt;/span&gt; et &lt;span class="caps"&gt;PDF&lt;/span&gt; Ã  laÂ demande.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Diagrams" class="img-fluid" src="../../assets/diagrams.png"/&gt;&lt;/p&gt;
&lt;h1&gt;Pourquoi utiliser du &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; ?Â ğŸ¤”&lt;/h1&gt;
&lt;p&gt;Pour lâ€™Ã©volution des schÃ©mas dans le temps, il devient alors trÃ¨s usant de ressortir son logiciel pour Ã©diter proprement pour une simple mise Ã Â jour.&lt;/p&gt;
&lt;p&gt;En tant que Graphiste, il mâ€™est difficile de ne pas Ãªtre perfectionniste et la moindre mise Ã  jour prend alors beaucoup trop de temps pour avoir un rendu satisfaisant.
Changer de logique pour le &lt;abbr title="Diagrams as Code"&gt;DaC&lt;/abbr&gt; permet donc de ne plus du tout sortir de logiciel de &lt;span class="caps"&gt;PAO&lt;/span&gt;, mais de simplement tout coder. En plus dâ€™Ãªtre une solution lÃ©gÃ¨re, il est alors agrÃ©able de revenir dans le code pour actualiser son schÃ©ma. CouplÃ© avec du versionnage, câ€™est encore plus plaisant Ã Â maintenir.&lt;/p&gt;
&lt;h1&gt;Recherche dâ€™outilÂ ğŸ”&lt;/h1&gt;
&lt;p&gt;Jâ€™ai mis du temps Ã  trouver mon bonheur, entre les vieux projets dÃ©prÃ©ciÃ©s de geek frustrÃ©s difficile Ã  exploiter, puis je suis tombÃ© sur la rÃ©fÃ©rence, Ã  savoir &lt;a href="https://kroki.io"&gt;Kroki.io&lt;/a&gt; qui convient Ã  beaucoup, car bien maintenu et dispose de tout un tas de librairie populaire â€¦ mais câ€™est tout ! TrÃ¨s efficace pour gÃ©nÃ©rer automatiquement des diagrammes, il nâ€™offre cependant pas la flexibilitÃ© pour rÃ©aliser lâ€™effet visuel â€œwahouâ€ que je cherche ni laÂ simplicitÃ©.&lt;/p&gt;
&lt;p&gt;Jâ€™ai bien Ã©videment trouvÃ© la pÃ©pite, câ€™est pour Ã§a que je fait cette note ğŸ˜œ.
Voici donc comment prendre en main &lt;a href="https://diagrams.mingrammer.com/"&gt;&lt;span class="caps"&gt;DIAGRAMS&lt;/span&gt;&lt;/a&gt; deÂ Mingrammer.&lt;/p&gt;
&lt;h1&gt;Fonctionnement de DiagramsÂ âš™ï¸&lt;/h1&gt;
&lt;p&gt;Le principe dâ€™utilisation est au plus efficace, le schÃ©ma est sous forme dâ€™un fichier Python (.py)Â :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;diagrams&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Diagram&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;diagrams.aws.compute&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;EC2&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;Diagram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Simple Diagram"&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;EC2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"web"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il permet de gÃ©nÃ©rer le rendu dâ€™une simple commandeÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;python3&lt;span class="w"&gt; &lt;/span&gt;diagram.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et paf, nous voici avec une imageÂ !&lt;/p&gt;
&lt;p&gt;Voici un exemple un peu plus complexeÂ :&lt;/p&gt;
&lt;p&gt;&lt;img alt="Diagrams" class="img-fluid" src="../../assets/dac.jpg"/&gt;&lt;/p&gt;
&lt;h1&gt;InstallationÂ ğŸ”§&lt;/h1&gt;
&lt;p&gt;En utilisant son gestionnaire de paquet prÃ©fÃ©rÃ© pour dÃ©ployer Python, Pip, Graphiz et Inkscape (sera utile pour la suite), par exemple sur une base &lt;span class="caps"&gt;RHEL&lt;/span&gt;Â :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dnf&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;python3-pip&lt;span class="w"&gt; &lt;/span&gt;graphviz&lt;span class="w"&gt; &lt;/span&gt;inkscape
pip3&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;diagrams
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;TerminÃ©, aller bisous Ã  la famille, nâ€™oublie pas de nourrir le chien, ciao. Jâ€™aime bien Ã§a moi, quand Ã§a ne rÃ©clame pas la mise en place dâ€™une usine Ã  gazÂ âœŒï¸&lt;/p&gt;
&lt;p&gt;Il est possible de lâ€™installer sur dâ€™autres &lt;span class="caps"&gt;OS&lt;/span&gt; comme Windows et MacOS siÂ besoin.&lt;/p&gt;
&lt;p&gt;Pour son utilisation avancÃ©e, lâ€™outil est trÃ¨s bien documentÃ© et vous fournit pas mal dâ€™exemple et surtout un guide pour vous expliquer les 3 grands principes, quâ€™il faut interprÃ©ter sur votre schÃ©ma ainsiÂ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nodes : Enssemble de ressourcesÂ importÃ©s&lt;/li&gt;
&lt;li&gt;Clusters : GroupeÂ dâ€™Ã©lÃ©ments&lt;/li&gt;
&lt;li&gt;Edges : Les liaisons entre lesÂ Ã©lÃ©ments&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ce qui est pratique avec les Nodes, câ€™est quâ€™ils sont basÃ© sur des technologies existantes populaires (&lt;span class="caps"&gt;AWS&lt;/span&gt;, Azure, etc â€¦) pour un joli renduÂ immÃ©diat.&lt;/p&gt;
&lt;p&gt;&lt;i class="fa fa-book"&gt;&lt;/i&gt; &lt;a href="https://diagrams.mingrammer.com/docs/getting-started/installation"&gt;consulter la documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Utilisation de ses propres iconesÂ ğŸ˜&lt;/h1&gt;
&lt;p&gt;Voici le point le plus intÃ©ressant, utiliser ses propres icÃ´nes pour un maximum de flexibilitÃ© avec le Node &lt;strong&gt;Custom&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Si vous Ãªtes Ã  la recherche dâ€™un pack dâ€™icÃ´nes &lt;span class="caps"&gt;SVG&lt;/span&gt; pour rÃ©aliser un schÃ©ma rÃ©seau, vous pouvez tous simplement rÃ©cupÃ©rer ceux de Microsoft Azure qui sont trÃ¨s cool en clonant simplement ce dÃ©pÃ´tÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;https://github.com/benc-uk/icon-collection.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GrÃ¢ce Ã  Inkscape, vous pouvez convertir les images directement dans une taille et format exploitable pour Diagrams pour un rendu de qualitÃ©, par exempleÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;inkscape&lt;span class="w"&gt; &lt;/span&gt;-w&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1024&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-h&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1024&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;icon-collection/azure-patterns/server.svg&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;icons/server.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, que nos icÃ´nes sont prÃªtes et stockÃ©s dans un dossier (â€œiconsâ€ dans mon cas), il ne reste plus quâ€™Ã  invoquer tout Ã§a dans sonÂ script.&lt;/p&gt;
&lt;h1&gt;Mise en applicationÂ ğŸ‘·&lt;/h1&gt;
&lt;p&gt;Voici maintenant comment initier un script Python avec icÃ´nes personnalisÃ©es (et ma configuration maison en bonus)Â :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Importation des dÃ©pendances&lt;/span&gt;
from&lt;span class="w"&gt; &lt;/span&gt;diagrams&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;Diagram,&lt;span class="w"&gt; &lt;/span&gt;Cluster,&lt;span class="w"&gt; &lt;/span&gt;Edge
from&lt;span class="w"&gt; &lt;/span&gt;diagrams.custom&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;Custom
from&lt;span class="w"&gt; &lt;/span&gt;datetime&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;datetime
&lt;span class="nv"&gt;today&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;datetime.today&lt;span class="o"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# Ici la configuration :&lt;/span&gt;
&lt;span class="c1"&gt;# Le titre du schÃ©ma avec la date de gÃ©nÃ©ration,&lt;/span&gt;
&lt;span class="c1"&gt;# le nom de fichier de sortie avec les formats Ã  gÃ©nÃ©rer,&lt;/span&gt;
&lt;span class="c1"&gt;# la direction d'affichage&lt;/span&gt;
&lt;span class="c1"&gt;# https://www.graphviz.org/documentation&lt;/span&gt;
with&lt;span class="w"&gt; &lt;/span&gt;Diagram&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Mon schÃ©ma - %s"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;today.strftime&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'%d/%m/%Y %H:%M'&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;show&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;False,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"schema"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;outformat&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="s2"&gt;"png"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"jpg"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"svg"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"pdf"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"dot"&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"TB"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Icones personalisÃ©s&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;internet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Custom&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Serveur"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"icons/server.png"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Groupes&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;Cluster&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Zone LAN \n VLAN 1 \n DHCP : 192.168.1.1-99"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nv"&gt;HOME&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Custom&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"192.168.1.0/24"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"icons/server.png"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;Cluster&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Zone DMZ \n VLAN 100 \n DHCP : 192.168.100.1-99"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;DMZ&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Custom&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"192.168.100.0/24"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"icons/server.png"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# Liens&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;internet&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;Edge&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"red"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"FTTH"&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"bold"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;DMZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici pour le concret, je vous invite Ã  voir le schÃ©ma complet que je partage de mon propre rÃ©seau domestique Ã  lâ€™adresse &lt;a href="https://network.heuzef.com"&gt;&lt;i class="fa fa-map"&gt;&lt;/i&gt; network.heuzef.com&lt;/a&gt;.
Le code Python de mon schÃ©ma y est disponible au tÃ©lÃ©chargement pour vous aider Ã  apprivoiserÂ lâ€™outil.&lt;/p&gt;</content><category term="Informatique"></category><category term="python"></category><category term="autohÃ©bergement"></category><category term="web"></category><category term="diagramme"></category></entry><entry><title>Externaliser ses sauvegardes comme unÂ radin</title><link href="https://heuzef.com/notes/externaliser-ses-sauvegardes-comme-un-radin/" rel="alternate"></link><published>2023-07-31T00:00:00+02:00</published><updated>2023-07-31T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-31:/notes/externaliser-ses-sauvegardes-comme-un-radin/</id><summary type="html">&lt;p&gt;Un point crucial en informatique est lâ€™externalisation des sauvegardes. En effet, si vous ne comptez que sur vos sauvegardes locales (stockÃ©es chez vous sur votre &lt;span class="caps"&gt;PC&lt;/span&gt; ou autre), vous allez forcÃ©ment Ãªtre punis un de ces jours par une panne de matÃ©riel, un cambriolage, etc â€¦ et votre vie numÃ©rique â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Un point crucial en informatique est lâ€™externalisation des sauvegardes. En effet, si vous ne comptez que sur vos sauvegardes locales (stockÃ©es chez vous sur votre &lt;span class="caps"&gt;PC&lt;/span&gt; ou autre), vous allez forcÃ©ment Ãªtre punis un de ces jours par une panne de matÃ©riel, un cambriolage, etc â€¦ et votre vie numÃ©rique sera rÃ©duite Ã Â nÃ©ant.&lt;/p&gt;
&lt;p&gt;Lâ€™externalisation des sauvegardes rÃ¨gle donc ce problÃ¨me, mais dans mon cas, je suis habituÃ© Ã  des solutions vraiment professionnelles, avec des outils et des moyens importants car les enjeux sont de taille pour la clientÃ¨le. Mais comment faire lorsque lâ€™on veut cela Ã  lâ€™Ã©chelle dâ€™une &lt;span class="caps"&gt;TPE&lt;/span&gt; ou dans le cadre dâ€™un auto-hÃ©bergement sans se ruiner ? Jâ€™ai longtemps peinÃ© pour trouver une solution Ã  la hauteur de maÂ radinerie.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Sauvegardes" class="img-fluid" src="../../assets/backup.png"/&gt;&lt;/p&gt;
&lt;h2&gt;Lâ€™outil utilisÃ© :Â Borg&lt;/h2&gt;
&lt;p&gt;Pour ceux qui ne connaissent pas encore, &lt;a href="https://borgbackup.org"&gt;Borg&lt;/a&gt; coche pour moi toutes les cases pour remplir ce rÃ´le. Câ€™est un outil de sauvegarde sÃ©rieux qui rÃ©pondra parfaitement Ã  des besoins quotidiens de sauvegardes automatiques et sÃ©curisÃ©es. Il est open-source, et aprÃ¨s lâ€™avoir utilisÃ© pendant un moment, je ne peux que leÂ recommander.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.borgbackup.org/demo.html"&gt;&lt;img alt="asciicast" class="img-fluid" src="https://asciinema.org/a/133292.svg"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Il nâ€™est pas encore aussi Ã©voluÃ© quâ€™un &lt;a href="https://bacula.org"&gt;Bacula&lt;/a&gt; par son manque de &lt;span class="caps"&gt;GUI&lt;/span&gt; et dâ€™outils Ã  usage professionnel, mais câ€™est lâ€™un des meilleurs outils de sauvegarde du moment, plusieurs projets peuvent complÃ©ter Borg si besoin de combler des manques (ex : &lt;a href="https://torsion.org/borgmatic"&gt;Borgmatic&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Je considÃ¨re bien Ã©videmment que les outils non open-source, tels quâ€™Acronis, sont Ã Â bannir.&lt;/p&gt;
&lt;p&gt;Bien que trÃ¨s fiable, bye-bye Ã©galement le contre-intuitif BackupPC avec son interface Ã  vomir. Il est de toute faÃ§on dÃ©jÃ  mort, comme en tÃ©moigne mon &lt;a href="https://github.com/backuppc/backuppc/pull/419"&gt;Pull Request&lt;/a&gt; restÃ© sans rÃ©ponse depuis la nuit desÂ temps.&lt;/p&gt;
&lt;p&gt;Sebsauvage Ã  Ã©crit un &lt;a href="https://sebsauvage.net/wiki/doku.php?id=borgbackup"&gt;bon article sur Borg&lt;/a&gt; si vous voulez vous faire un avis technique avant deÂ lâ€™adopter.&lt;/p&gt;
&lt;h2&gt;Externaliser oÃ¹Â ?&lt;/h2&gt;
&lt;p&gt;Entrons donc dans le cÅ“ur du problÃ¨me : &lt;a href="https://youtu.be/Eo9JmYYbACA?t=161"&gt;la thune&lt;/a&gt;Â ğŸ’¸&lt;/p&gt;
&lt;p&gt;Pour avoir une externalisation digne de ce nom sans se ruiner, il faut bien sâ€™embÃªter, ou trouver des bonsÂ plans.&lt;/p&gt;
&lt;p&gt;Jâ€™ai dÃ©jÃ  tentÃ© de le faire Ã  lâ€™ancienne en dÃ©plaÃ§ant rÃ©guliÃ¨rement des disques durs, mais perdre lâ€™automatisation nocturne est vraiment trop pÃ©nible. Jâ€™ai Ã©galement tentÃ© de passer par des amis, Ã§a fonctionne, mais nâ€™espÃ©rez pas avoir une solution pÃ©renne. Je me suis retrouvÃ© Ã  dÃ©mÃ©nager ma solution chez un autre chaque annÃ©e, pour X ou Y raisons !Â ğŸ˜«&lt;/p&gt;
&lt;p&gt;Finalement, je me suis dÃ©cidÃ© Ã  y mettre des sous, mais chercher une solution pour stocker 5 To de sauvegarde dans mon cas, compatible avec Borg et Ã©conomique, est vraimentÂ difficile.&lt;/p&gt;
&lt;p&gt;Câ€™est du cÃ´tÃ© des casques Ã  pointe que jâ€™ai trouvÃ© le bonheur ! &lt;strong&gt;&lt;a href="https://www.hetzner.com"&gt;&lt;span class="caps"&gt;HETZNER&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt; propose un service appelÃ© &lt;strong&gt;&lt;a href="https://www.hetzner.com/storage/storage-box"&gt;Storage Box&lt;/a&gt;&lt;/strong&gt;, compatible avec Borg et Ã  bas prix (12,97â‚¬ les 5 To en 2023 dans mon casÂ !).&lt;/p&gt;
&lt;p&gt;Jâ€™exporte depuis quelques mois mes sauvegardes chiffrÃ©es chez eux, Ã§a tourne super ! Leur documentation technique est disponible &lt;strong&gt;&lt;a href="https://community.hetzner.com/tutorials/install-and-configure-borgbackup"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt; &lt;span class="caps"&gt;ICI&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt; pour relier leur stockage Ã  votre serveurÂ Borg.&lt;/p&gt;
&lt;p&gt;Je nâ€™ai pas mesurÃ© les dÃ©bits, mais pour ce prix-lÃ , je peux vous assurer que câ€™est vraiment top. Dans mon cas, je remplis sans problÃ¨me les 5 To dans la nuitÂ âœŒï¸&lt;/p&gt;
&lt;p&gt;Bonne installationÂ !&lt;/p&gt;</content><category term="Informatique"></category><category term="autohÃ©bergement"></category><category term="sauvegardes"></category><category term="chiffrement"></category><category term="astuce"></category><category term="opensource"></category></entry><entry><title>Lancement de monÂ blog</title><link href="https://heuzef.com/notes/lancement-de-mon-blog/" rel="alternate"></link><published>2023-07-27T00:00:00+02:00</published><updated>2023-07-27T00:00:00+02:00</updated><author><name>Heuzef</name></author><id>tag:heuzef.com,2023-07-27:/notes/lancement-de-mon-blog/</id><summary type="html">&lt;p&gt;Suite Ã  une bouillante rÃ©flexion, jâ€™ai finalement pris la dÃ©cision brillante dâ€™exploiter mon site pour y partager toutes mes expÃ©riences excentriques.
Jâ€™ai bon espoir que les plus audacieux dâ€™entre vous seront ravis de dÃ©couvrir toutes les informations et astuces que je partage ici Ã  la sueur â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Suite Ã  une bouillante rÃ©flexion, jâ€™ai finalement pris la dÃ©cision brillante dâ€™exploiter mon site pour y partager toutes mes expÃ©riences excentriques.
Jâ€™ai bon espoir que les plus audacieux dâ€™entre vous seront ravis de dÃ©couvrir toutes les informations et astuces que je partage ici Ã  la sueur de mon frontÂ ğŸ˜&lt;/p&gt;
&lt;h2&gt;Pourquoi et pour quoiÂ ?&lt;/h2&gt;
&lt;p&gt;Transformer mon site, qui, jusquâ€™Ã  prÃ©sent, assurait la simple fonction de â€œpoint dâ€™accueil de mon nom de domaine parce quâ€™il en faut bien unâ€ en quelque chose de plusÂ pertinent.&lt;/p&gt;
&lt;p&gt;Ã‰crire mes expÃ©riences de vie, apportera, je lâ€™espÃ¨re, plusieurs avantages. Les passionnÃ©s comme moi ont tous secrÃ¨tement cette envie de partage, mais câ€™est autre chose de seÂ lancer.&lt;/p&gt;
&lt;p&gt;Sur ce blog, pas de thÃ¨me prÃ©cis, jâ€™aborderais tout sujet et thÃ©matique selon mon humeur dÃ©lirante du moment, sous la seule condition que le contenu sera en mesure de crÃ©er une frÃ©nÃ©sie de passion sans prÃ©cÃ©dent auprÃ¨s dâ€™une foule en dÃ©lire qui ne manquera pas de sâ€™abonner au &lt;a href="https://heuzef.com/feeds/all.atom.xml"&gt;Flux &lt;span class="caps"&gt;RSS&lt;/span&gt; &lt;i class="fa fa-rss"&gt;&lt;/i&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;SalutÂ Pelican&lt;/h2&gt;
&lt;p&gt;Câ€™est donc naturellement que je vais commencer Ã  vous parler du choix de lâ€™outil que jâ€™utilise pour me lancer dans cette aventure : &lt;a href="https://getpelican.com"&gt;Pelican&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Pelican" class="img-fluid" src="../../assets/pelican.png"/&gt;&lt;/p&gt;
&lt;p&gt;Cet outil est absolument parfait pour les dingos exigeants comme moi, ce moteur Python ultra lÃ©ger permet de gÃ©nÃ©rer un site statique Ã  partir de vos fichiers Markdown ouÂ reStructuredText.&lt;/p&gt;
&lt;p&gt;Aucune base de donnÃ©es ni moteur web requis, il suffit de lancer la moulinette et Pelican va vous recracher fissa un site web statique complet (&lt;span class="caps"&gt;HTML&lt;/span&gt;, &lt;span class="caps"&gt;CSS&lt;/span&gt;, &lt;span class="caps"&gt;JS&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Cette note est la premiÃ¨re que je fais suite Ã  une installation et configuration de mon instance Pelican et câ€™est clairement trÃ¨s efficace, car lâ€™outil nâ€™en reste pas moins puissant et offre un large choix de fonction (Gestion de thÃ¨me, extenssion, Flux &lt;span class="caps"&gt;RSS&lt;/span&gt;, publications multi-langue, etc â€¦ ), et surtout tout est Ã  plÃ¢t et versionnÃ© sur mon &lt;a href="https://github.com/heuzef/heuzef_com"&gt;git&lt;/a&gt;, et la personnalisation est possible sansÂ contrainte.&lt;/p&gt;
&lt;p&gt;Câ€™est auto-hÃ©bergeable, libre et documentÃ©, bref rien Ã  redire, câ€™est le pied, fait tourner câ€™est de laÂ bonne.&lt;/p&gt;
&lt;p&gt;Merci Ã  mon tout-puissant Sensei &lt;a href="https://xieme-art.org"&gt;Ephase&lt;/a&gt; pour mâ€™avoir inspirÃ© et aidÃ© Ã  dÃ©couvrir cet outilÂ ğŸ˜&lt;/p&gt;
&lt;h2&gt;Faire connaissance avec leÂ piaf&lt;/h2&gt;
&lt;p&gt;Une fois votre serveur web prÃªt, il vous faudra installer quelques nÃ©cessitÃ©s : Python avec virtualenv, pip etÂ make.&lt;/p&gt;
&lt;p&gt;Pour les modules pip, voici une liste de quelques dÃ©pendances que jâ€™utilise : &lt;a href="https://github.com/heuzef/heuzef_com/blob/master/requirements.txt"&gt;&lt;i class="fa fa-file"&gt;&lt;/i&gt;Â requirements.txt&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Installation etÂ configuration&lt;/h3&gt;
&lt;p&gt;Allons-y Alonso !Â âœŠ&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Activation du virtualenv Python&lt;/span&gt;
virtualenv&lt;span class="w"&gt; &lt;/span&gt;~/virtualenvs/pelican
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/virtualenvs/pelican
&lt;span class="nb"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;bin/activate

&lt;span class="c1"&gt;# Installation de Pelican dans votre dossier d'hÃ©bergement web&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/var/www/html/
pip3&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puis il suffit de se laisser guider pour la configurationÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pelican-quickstart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vient alors le choix du thÃ¨me (jâ€™ai personnellement optÃ© pour &lt;a href="https://github.com/nairobilug/pelican-alchemy"&gt;Pelican-Alchemy âœ¨&lt;/a&gt; pour le moment) et des extensions.
Puis finalement, il faut passer du temps Ã  personnaliser les fichiers de configuration &lt;strong&gt;.py&lt;/strong&gt;, ajouter votre contenu dans le dossier &lt;strong&gt;content&lt;/strong&gt; et faire pointer votre serveur web sur le dossier &lt;strong&gt;output&lt;/strong&gt; qui contient votre site statiqueÂ gÃ©nÃ©rÃ©.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/
â”œâ”€â”€&lt;span class="w"&gt; &lt;/span&gt;content
â”‚&lt;span class="w"&gt;   &lt;/span&gt;â””â”€â”€&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;pages&lt;span class="o"&gt;)&lt;/span&gt;
â”œâ”€â”€&lt;span class="w"&gt; &lt;/span&gt;output
â”œâ”€â”€&lt;span class="w"&gt; &lt;/span&gt;tasks.py
â”œâ”€â”€&lt;span class="w"&gt; &lt;/span&gt;Makefile
â”œâ”€â”€&lt;span class="w"&gt; &lt;/span&gt;pelicanconf.py&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;# Main settings file&lt;/span&gt;
â””â”€â”€&lt;span class="w"&gt; &lt;/span&gt;publishconf.py&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;# Settings to use when ready to publish&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ExempleÂ dâ€™utilisation&lt;/h3&gt;
&lt;p&gt;Pour exemple, voici Ã  quoi ressemble le fichier Markdown de cet articleÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;Title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Lancement&lt;/span&gt; &lt;span class="n"&gt;de&lt;/span&gt; &lt;span class="n"&gt;mon&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt;
&lt;span class="nf"&gt;Cover&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;assets&lt;/span&gt;/&lt;span class="n"&gt;bg_pelican&lt;/span&gt;.&lt;span class="n"&gt;jpg&lt;/span&gt;
&lt;span class="nf"&gt;Category&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Informatique&lt;/span&gt;
&lt;span class="nf"&gt;Tags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;autoh&lt;/span&gt;Ã©&lt;span class="n"&gt;bergement&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;web&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt;
&lt;span class="nf"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;2023-08-01 0:00
&lt;span class="nf"&gt;Status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;published&lt;/span&gt;

&lt;span class="err"&gt;Blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;...&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;et&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;ils&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;trÃ©pignÃ¨rent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;Ã &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;la&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;lecture&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;de&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;cette&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;note&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;...&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;blah&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Un pti coup de moulinetteÂ :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make&lt;span class="w"&gt; &lt;/span&gt;publish
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et vouualaaa !Â ğŸ‘Œ&lt;/p&gt;
&lt;p&gt;Vous avez les bases, la &lt;a href="https://docs.getpelican.com"&gt;documentation&lt;/a&gt; de Pelican vous permettra dâ€™aller plus loinÂ ensuite.&lt;/p&gt;
&lt;p&gt;Ã€ bientÃ´t pour de nouvelles aventuresÂ !&lt;/p&gt;</content><category term="Informatique"></category><category term="pelican"></category><category term="python"></category><category term="autohÃ©bergement"></category><category term="web"></category><category term="blog"></category></entry></feed>